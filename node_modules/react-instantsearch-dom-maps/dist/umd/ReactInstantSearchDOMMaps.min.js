/*! React InstantSearchDOMMaps 5.7.0 | Â© Algolia, inc. | https://github.com/algolia/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-instantsearch-dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-instantsearch-dom","react-dom"],t):t((e=e||self).ReactInstantSearchDOMMaps={},e.React,e.ReactInstantSearchDOM,e.ReactDOM)}(this,function(e,n,t,o){"use strict";var h="default"in n?n.default:n;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?s(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o=o&&o.hasOwnProperty("default")?o.default:o;var y="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};y.setTimeout,y.clearTimeout;var g=y.performance||{},m=(g.now||g.mozNow||g.msNow||g.oNow||g.webkitNow,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});function b(e,t){return e(t={exports:{}},t.exports),t.exports}var _=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}})()&&Object.assign;function j(){}var R=b(function(e){e.exports=function(){function e(e,t,n,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=j,n.PropTypes=n}()}),S=function(e){function i(){var e,t;u(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return d(s(t=p(this,(e=f(i)).call.apply(e,[this].concat(o)))),"state",{google:null}),d(s(t),"isUnmounting",!1),t}return v(i,n.Component),l(i,[{key:"componentDidMount",value:function(){var a=this;return Dt.resolve().then(function(){return Wn}).then(function(e){var t=e.default,n=a.props,o=n.apiKey,r=n.endpoint,i=-1!==r.indexOf("?")?"&":"?";t("".concat(r).concat(i,"key=").concat(o),function(){a.isUnmounting||a.setState(function(){return{google:window.google}})})})}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0}},{key:"render",value:function(){return this.state.google?this.props.children(this.state.google):null}}]),i}();function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){d(t,e,n[e])})}return t}d(S,"defaultProps",{endpoint:"https://maps.googleapis.com/maps/api/js?v=quarterly"});var C=function(){this.__data__=[],this.size=0};var E=function(e,t){return e===t||e!=e&&t!=t};var x=function(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1},L=Array.prototype.splice;var I=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():L.call(t,n,1),--this.size,0))};var U=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]};var W=function(e){return-1<x(this.__data__,e)};var A=function(e,t){var n=this.__data__,o=x(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};function N(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}N.prototype.clear=C,N.prototype.delete=I,N.prototype.get=U,N.prototype.has=W,N.prototype.set=A;var D=N;var B=function(){this.__data__=new D,this.size=0};var T=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var F=function(e){return this.__data__.get(e)};var z=function(e){return this.__data__.has(e)},q="object"==typeof m&&m&&m.Object===Object&&m,G="object"==typeof self&&self&&self.Object===Object&&self,$=q||G||Function("return this")(),V=$.Symbol,Z=Object.prototype,H=Z.hasOwnProperty,J=Z.toString,K=V?V.toStringTag:void 0;var Y=function(e){var t=H.call(e,K),n=e[K];try{var o=!(e[K]=void 0)}catch(e){}var r=J.call(e);return o&&(t?e[K]=n:delete e[K]),r},Q=Object.prototype.toString;var X=function(e){return Q.call(e)},ee=V?V.toStringTag:void 0;var te=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?Y(e):X(e)};var ne=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var oe,re=function(e){if(!ne(e))return!1;var t=te(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ie=$["__core-js_shared__"],ae=(oe=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"";var se=function(e){return!!ae&&ae in e},ce=Function.prototype.toString;var ue=function(e){if(null!=e){try{return ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""},le=/^\[object .+?Constructor\]$/,pe=Function.prototype,fe=Object.prototype,he=pe.toString,ve=fe.hasOwnProperty,de=RegExp("^"+he.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ye=function(e){return!(!ne(e)||se(e))&&(re(e)?de:le).test(ue(e))};var ge=function(e,t){return null==e?void 0:e[t]};var me=function(e,t){var n=ge(e,t);return ye(n)?n:void 0},be=me($,"Map"),_e=me(Object,"create");var Me=function(){this.__data__=_e?_e(null):{},this.size=0};var Oe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},je=Object.prototype.hasOwnProperty;var Re=function(e){var t=this.__data__;if(_e){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return je.call(t,e)?t[e]:void 0},Se=Object.prototype.hasOwnProperty;var we=function(e){var t=this.__data__;return _e?void 0!==t[e]:Se.call(t,e)};var ke=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_e&&void 0===t?"__lodash_hash_undefined__":t,this};function Pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Pe.prototype.clear=Me,Pe.prototype.delete=Oe,Pe.prototype.get=Re,Pe.prototype.has=we,Pe.prototype.set=ke;var Ce=Pe;var Ee=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var xe=function(e,t){var n=e.__data__;return Ee(t)?n["string"==typeof t?"string":"hash"]:n.map};var Le=function(e){var t=xe(this,e).delete(e);return this.size-=t?1:0,t};var Ie=function(e){return xe(this,e).get(e)};var Ue=function(e){return xe(this,e).has(e)};var We=function(e,t){var n=xe(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ae.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(be||D),string:new Ce}},Ae.prototype.delete=Le,Ae.prototype.get=Ie,Ae.prototype.has=Ue,Ae.prototype.set=We;var Ne=Ae;var De=function(e,t){var n=this.__data__;if(n instanceof D){var o=n.__data__;if(!be||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ne(o)}return n.set(e,t),this.size=n.size,this};function Be(e){var t=this.__data__=new D(e);this.size=t.size}Be.prototype.clear=B,Be.prototype.delete=T,Be.prototype.get=F,Be.prototype.has=z,Be.prototype.set=De;var Te=Be;var Fe=function(e){return this.__data__.has(e)};function ze(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ne;++t<n;)this.add(e[t])}ze.prototype.add=ze.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ze.prototype.has=Fe;var qe=ze;var Ge=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1};var $e=function(e,t){return e.has(t)};var Ve=function(e,t,n,o,r,i){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&s<c))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var l=-1,p=!0,f=2&n?new qe:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var h=e[l],v=t[l];if(o)var d=a?o(v,h,l,t,e,i):o(h,v,l,e,t,i);if(void 0!==d){if(d)continue;p=!1;break}if(f){if(!Ge(t,function(e,t){if(!$e(f,t)&&(h===e||r(h,e,n,o,i)))return f.push(t)})){p=!1;break}}else if(h!==v&&!r(h,v,n,o,i)){p=!1;break}}return i.delete(e),i.delete(t),p},Ze=$.Uint8Array;var He=function(e){var n=-1,o=Array(e.size);return e.forEach(function(e,t){o[++n]=[t,e]}),o};var Je=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},Ke=V?V.prototype:void 0,Ye=Ke?Ke.valueOf:void 0;var Qe=function(e,t,n,o,r,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Ze(e),new Ze(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return E(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=He;case"[object Set]":var c=1&o;if(s||(s=Je),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;o|=2,a.set(e,t);var l=Ve(s(e),s(t),o,r,i,a);return a.delete(e),l;case"[object Symbol]":if(Ye)return Ye.call(e)==Ye.call(t)}return!1};var Xe=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e},et=Array.isArray;var tt=function(e,t,n){var o=t(e);return et(e)?o:Xe(o,n(e))};var nt=function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var a=e[n];t(a,n,e)&&(i[r++]=a)}return i};var ot=function(){return[]},rt=Object.prototype.propertyIsEnumerable,it=Object.getOwnPropertySymbols,at=it?function(t){return null==t?[]:(t=Object(t),nt(it(t),function(e){return rt.call(t,e)}))}:ot;var st=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o};var ct=function(e){return null!=e&&"object"==typeof e};var ut=function(e){return ct(e)&&"[object Arguments]"==te(e)},lt=Object.prototype,pt=lt.hasOwnProperty,ft=lt.propertyIsEnumerable,ht=ut(function(){return arguments}())?ut:function(e){return ct(e)&&pt.call(e,"callee")&&!ft.call(e,"callee")};var vt=function(){return!1},dt=b(function(e,t){var n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,r=o&&o.exports===n?$.Buffer:void 0,i=(r?r.isBuffer:void 0)||vt;e.exports=i}),yt=/^(?:0|[1-9]\d*)$/;var gt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&yt.test(e))&&-1<e&&e%1==0&&e<t};var mt=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Arguments]"]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object Boolean]"]=bt["[object DataView]"]=bt["[object Date]"]=bt["[object Error]"]=bt["[object Function]"]=bt["[object Map]"]=bt["[object Number]"]=bt["[object Object]"]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object WeakMap]"]=!1;var _t=function(e){return ct(e)&&mt(e.length)&&!!bt[te(e)]};var Mt=function(t){return function(e){return t(e)}},Ot=b(function(e,t){var n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,r=o&&o.exports===n&&q.process,i=function(){try{var e=o&&o.require&&o.require("util").types;return e||r&&r.binding&&r.binding("util")}catch(e){}}();e.exports=i}),jt=Ot&&Ot.isTypedArray,Rt=jt?Mt(jt):_t,St=Object.prototype.hasOwnProperty;var wt=function(e,t){var n=et(e),o=!n&&ht(e),r=!n&&!o&&dt(e),i=!n&&!o&&!r&&Rt(e),a=n||o||r||i,s=a?st(e.length,String):[],c=s.length;for(var u in e)!t&&!St.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||gt(u,c))||s.push(u);return s},kt=Object.prototype;var Pt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||kt)};var Ct=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),Et=Object.prototype.hasOwnProperty;var xt=function(e){if(!Pt(e))return Ct(e);var t=[];for(var n in Object(e))Et.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Lt=function(e){return null!=e&&mt(e.length)&&!re(e)};var It=function(e){return Lt(e)?wt(e):xt(e)};var Ut=function(e){return tt(e,It,at)},Wt=Object.prototype.hasOwnProperty;var At=function(e,t,n,o,r,i){var a=1&n,s=Ut(e),c=s.length;if(c!=Ut(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Wt.call(t,l)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<c;){var v=e[l=s[u]],d=t[l];if(o)var y=a?o(d,v,l,t,e,i):o(v,d,l,e,t,i);if(!(void 0===y?v===d||r(v,d,n,o,i):y)){f=!1;break}h||(h="constructor"==l)}if(f&&!h){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(f=!1)}return i.delete(e),i.delete(t),f},Nt=me($,"DataView"),Dt=me($,"Promise"),Bt=Dt,Tt=me($,"Set"),Ft=me($,"WeakMap"),zt="[object Map]",qt="[object Promise]",Gt="[object Set]",$t="[object WeakMap]",Vt="[object DataView]",Zt=ue(Nt),Ht=ue(be),Jt=ue(Bt),Kt=ue(Tt),Yt=ue(Ft),Qt=te;(Nt&&Qt(new Nt(new ArrayBuffer(1)))!=Vt||be&&Qt(new be)!=zt||Bt&&Qt(Bt.resolve())!=qt||Tt&&Qt(new Tt)!=Gt||Ft&&Qt(new Ft)!=$t)&&(Qt=function(e){var t=te(e),n="[object Object]"==t?e.constructor:void 0,o=n?ue(n):"";if(o)switch(o){case Zt:return Vt;case Ht:return zt;case Jt:return qt;case Kt:return Gt;case Yt:return $t}return t});var Xt=Qt,en="[object Arguments]",tn="[object Array]",nn="[object Object]",on=Object.prototype.hasOwnProperty;var rn=function(e,t,n,o,r,i){var a=et(e),s=et(t),c=a?tn:Xt(e),u=s?tn:Xt(t),l=(c=c==en?nn:c)==nn,p=(u=u==en?nn:u)==nn,f=c==u;if(f&&dt(e)){if(!dt(t))return!1;l=!(a=!0)}if(f&&!l)return i||(i=new Te),a||Rt(e)?Ve(e,t,n,o,r,i):Qe(e,t,c,n,o,r,i);if(!(1&n)){var h=l&&on.call(e,"__wrapped__"),v=p&&on.call(t,"__wrapped__");if(h||v){var d=h?e.value():e,y=v?t.value():t;return i||(i=new Te),r(d,y,n,o,i)}}return!!f&&(i||(i=new Te),At(e,t,n,o,r,i))};var an=function e(t,n,o,r,i){return t===n||(null==t||null==n||!ct(t)&&!ct(n)?t!=t&&n!=n:rn(t,n,o,r,e,i))};var sn=function(e,t){return an(e,t)};function cn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function un(n){this.setState(function(e){var t=this.constructor.getDerivedStateFromProps(n,e);return null!=t?t:null}.bind(this))}function ln(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}ln.__suppressDeprecationWarning=un.__suppressDeprecationWarning=cn.__suppressDeprecationWarning=!0;var pn=function(e){function i(){var e,t;u(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return d(s(t=p(this,(e=f(i)).call.apply(e,[this].concat(o)))),"state",{isRefineOnMapMove:t.props.enableRefineOnMapMove,hasMapMoveSinceLastRefine:!1,previousPosition:t.props.position,previousCurrentRefinement:t.props.currentRefinement}),d(s(t),"toggleRefineOnMapMove",function(){return t.setState(function(e){return{isRefineOnMapMove:!e.isRefineOnMapMove}})}),d(s(t),"setMapMoveSinceLastRefine",function(e){t.state.hasMapMoveSinceLastRefine!==e&&t.setState(function(){return{hasMapMoveSinceLastRefine:e}})}),t}return v(i,n.Component),l(i,[{key:"render",value:function(){var e=this.props,t=e.hits,n=e.isRefinedWithMap,o=e.position,r=e.currentRefinement,i=e.refine,a=e.children,s=this.state,c=s.isRefineOnMapMove,u=s.hasMapMoveSinceLastRefine;return a({toggleRefineOnMapMove:this.toggleRefineOnMapMove,setMapMoveSinceLastRefine:this.setMapMoveSinceLastRefine,hits:t,isRefinedWithMap:n,isRefineOnMapMove:c,hasMapMoveSinceLastRefine:u,position:o,currentRefinement:r,refine:i})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,o=e.currentRefinement,r=t.previousPosition,i=t.previousCurrentRefinement,a=!sn(r,n),s=!sn(i,o),c={previousPosition:n,previousCurrentRefinement:o};return a||s?P({},c,{hasMapMoveSinceLastRefine:!1}):c}}]),i}();!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return;var n=null,o=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=cn,t.componentWillReceiveProps=un),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=ln;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,o)}}}(pn);var fn=t.connectGeoSearch(pn),hn="__ais_geo_search__state__",vn=function(e){function i(){var e,r;u(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return d(s(r=p(this,(e=f(i)).call.apply(e,[this].concat(n)))),"isPendingRefine",!1),d(s(r),"boundingBox",null),d(s(r),"previousBoundingBox",null),d(s(r),"refineWithInstance",function(e){var t=r.props.refine,n=e.getBounds();t({northEast:n.getNorthEast().toJSON(),southWest:n.getSouthWest().toJSON()})}),d(s(r),"onChange",function(){var e=r.props,t=e.isRefineOnMapMove,n=e.isRefineEnable,o=e.setMapMoveSinceLastRefine;n&&(o(!0),t&&(r.isPendingRefine=!0))}),d(s(r),"onIdle",function(e){var t=e.instance;r.isPendingRefine&&(r.isPendingRefine=!1,r.refineWithInstance(t))}),d(s(r),"shouldUpdate",function(){var e=r.props.hasMapMoveSinceLastRefine;return!r.isPendingRefine&&!e}),r}return v(i,n.Component),l(i,[{key:"getChildContext",value:function(){var e=this.props,t=e.isRefineOnMapMove,n=e.hasMapMoveSinceLastRefine,o=e.toggleRefineOnMapMove,r=e.setMapMoveSinceLastRefine;return d({},hn,{refineWithInstance:this.refineWithInstance,toggleRefineOnMapMove:o,setMapMoveSinceLastRefine:r,isRefineOnMapMove:t,hasMapMoveSinceLastRefine:n})}},{key:"createBoundingBoxFromHits",value:function(e){var t=this.props.google,n=e.reduce(function(e,t){return e.extend(t._geoloc)},new t.maps.LatLngBounds);return{northEast:n.getNorthEast().toJSON(),southWest:n.getSouthWest().toJSON()}}},{key:"render",value:function(){var e=this.props,t=e.hits,n=e.currentRefinement,o=e.children,r=n?0:void 0,i=!n&&Boolean(t.length)?this.createBoundingBoxFromHits(t):n;return o({onChange:this.onChange,onIdle:this.onIdle,shouldUpdate:this.shouldUpdate,boundingBox:i,boundingBoxPadding:r})}}]),i}();d(vn,"childContextTypes",d({},hn,R.shape({isRefineOnMapMove:R.bool.isRequired,hasMapMoveSinceLastRefine:R.bool.isRequired,toggleRefineOnMapMove:R.func.isRequired,setMapMoveSinceLastRefine:R.func.isRequired,refineWithInstance:R.func.isRequired}).isRequired));var dn=t.createClassNames("GeoSearch"),yn=function(e){function i(){var e,t;u(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return d(s(t=p(this,(e=f(i)).call.apply(e,[this].concat(o)))),"isUserInteraction",!0),d(s(t),"isPendingRefine",!1),d(s(t),"listeners",[]),d(s(t),"state",{isMapReady:!1}),d(s(t),"setupListenersWhenMapIsReady",function(){t.listeners=[],t.setState(function(){return{isMapReady:!0}});var e=function(){t.isUserInteraction&&t.props.onChange()};t.listeners.push(t.instance.addListener("center_changed",e)),t.listeners.push(t.instance.addListener("zoom_changed",e)),t.listeners.push(t.instance.addListener("dragstart",e)),t.listeners.push(t.instance.addListener("idle",function(){t.isUserInteraction&&t.props.onIdle({instance:t.instance})}))}),t}return v(i,n.Component),l(i,[{key:"getChildContext",value:function(){var e=this.props.google;return{__ais_geo_search__google_maps__:{instance:this.instance,google:e}}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.google,n=e.mapOptions;this.instance=new t.maps.Map(this.element,P({mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,zoomControlOptions:{position:t.maps.ControlPosition.LEFT_TOP}},n)),this.listeners.push(t.maps.event.addListenerOnce(this.instance,"idle",this.setupListenersWhenMapIsReady))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.google,o=t.initialZoom,r=t.initialPosition,i=t.boundingBox,a=t.boundingBoxPadding;(0,t.shouldUpdate)()&&(i?this.lockUserInteration(function(){e.instance.fitBounds(new n.maps.LatLngBounds(i.southWest,i.northEast),a)}):this.lockUserInteration(function(){e.instance.setZoom(o),e.instance.setCenter(r)}))}},{key:"componentWillUnmount",value:function(){this.listeners.forEach(function(e){e.remove()}),this.listeners=[]}},{key:"lockUserInteration",value:function(e){this.isUserInteraction=!1,e(),this.isUserInteraction=!0}},{key:"render",value:function(){var t=this,e=this.props.children,n=this.state.isMapReady;return h.createElement("div",{className:dn("")},h.createElement("div",{ref:function(e){return t.element=e},className:dn("map")}),n&&e)}}]),i}();d(yn,"childContextTypes",{__ais_geo_search__google_maps__:R.shape({google:R.object,instance:R.object})});var gn=function(e){function i(){var e,r;u(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return d(s(r=p(this,(e=f(i)).call.apply(e,[this].concat(n)))),"renderChildrenWithBoundFunction",function(e){var a=e.hits,s=e.position,t=k(e,["hits","position"]),n=r.props,c=n.google,u=n.children,l=n.initialZoom,p=n.initialPosition,o=n.enableRefine,f=(n.enableRefineOnMapMove,n.defaultRefinement,k(n,["google","children","initialZoom","initialPosition","enableRefine","enableRefineOnMapMove","defaultRefinement"]));return h.createElement(vn,w({},t,{testID:"Provider",google:c,hits:a,position:s,isRefineEnable:o}),function(e){var t=e.boundingBox,n=e.boundingBoxPadding,o=e.onChange,r=e.onIdle,i=e.shouldUpdate;return h.createElement(yn,{testID:"GoogleMaps",google:c,initialZoom:l,initialPosition:s||p,mapOptions:f,boundingBox:t,boundingBoxPadding:n,onChange:o,onIdle:r,shouldUpdate:i},u({hits:a}))})}),r}return v(i,n.Component),l(i,[{key:"render",value:function(){var e=this.props,t=e.enableRefineOnMapMove,n=e.defaultRefinement;return h.createElement(fn,{testID:"Connector",enableRefineOnMapMove:t,defaultRefinement:n},this.renderChildrenWithBoundFunction)}}]),i}();d(gn,"defaultProps",{initialZoom:1,initialPosition:{lat:0,lng:0},enableRefine:!0,enableRefineOnMapMove:!0,defaultRefinement:null});var mn,bn=function(e,n,o){var t=Object.keys(e),r=Object.keys(n).filter(function(e){return-1!==t.indexOf(e)}).map(function(t){return o.addListener(e[t],function(e){n[t]({event:e,marker:o})})});return function(){r.forEach(function(e){return e.remove()})}},_n=function(i){var e=function(e,t){var n=t.__ais_geo_search__google_maps__,o=n.google,r=n.instance;return h.createElement(i,w({},e,{google:o,googleMapsInstance:r}))};return e.contextTypes={__ais_geo_search__google_maps__:R.shape({google:R.object,instance:R.object})},e},Mn={onClick:"click",onDoubleClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup"},On=["children"].concat(Object.keys(Mn)),jn=(mn=On,function(n){return Object.keys(n).filter(function(e){return-1===mn.indexOf(e)}).reduce(function(e,t){return P({},e,d({},t,n[t]))},{})}),Rn=_n(function(e){function t(){return u(this,t),p(this,f(t).apply(this,arguments))}return v(t,n.Component),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.google,n=e.googleMapsInstance,o=e.hit,r=k(e,["google","googleMapsInstance","hit"]);this.instance=new t.maps.Marker(P({},jn(r),{map:n,position:o._geoloc})),this.removeEventsListeners=bn(Mn,this.props,this.instance)}},{key:"componentDidUpdate",value:function(){this.removeEventsListeners(),this.removeEventsListeners=bn(Mn,this.props,this.instance)}},{key:"componentWillUnmount",value:function(){this.instance.setMap(null)}},{key:"render",value:function(){return null}}]),t}()),Sn={onClick:"click",onDoubleClick:"dblclick",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup"},wn=function(e){function i(){var e,t;u(this,i);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return d(s(t=p(this,(e=f(i)).call.apply(e,[this].concat(o)))),"state",{marker:null}),t}return v(i,n.Component),l(i,[{key:"componentDidMount",value:function(){var c,e=this.props,t=e.hit,n=e.google,o=e.googleMapsInstance,r=e.className,i=e.anchor,a=new(c=n,function(e){function s(e){var t,n=e.position,o=e.map,r=e.className,i=e.anchor,a=void 0===i?{x:0,y:0}:i;return u(this,s),(t=p(this,f(s).call(this))).anchor=a,t.subscriptions=[],t.latLng=new c.maps.LatLng(n),t.element=document.createElement("div"),t.element.className=r,t.element.style.position="absolute",t.element.style.whiteSpace="nowrap",t.setMap(o),t}return v(s,c.maps.OverlayView),l(s,[{key:"onAdd",value:function(){this.getPanes()&&this.getPanes().overlayMouseTarget.appendChild(this.element)}},{key:"draw",value:function(){if(this.getProjection()){var e=this.getProjection().fromLatLngToDivPixel(this.latLng),t=this.anchor.x+this.element.offsetWidth/2,n=this.anchor.y+this.element.offsetHeight;this.element.style.left="".concat(Math.round(e.x-t),"px"),this.element.style.top="".concat(Math.round(e.y-n),"px"),this.element.style.zIndex=parseInt(this.element.style.top,10)}}},{key:"onRemove",value:function(){this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.subscriptions.forEach(function(e){return e.remove()}),delete this.element,this.subscriptions=[])}},{key:"addListener",value:function(e,t){var n=this,o={remove:function(){n.element.removeEventListener(e,t),n.subscriptions=n.subscriptions.filter(function(e){return e!==o})}};return this.element.addEventListener(e,t),this.subscriptions=this.subscriptions.concat(o),o}},{key:"getPosition",value:function(){return this.latLng}}]),s}())({map:o,position:t._geoloc,className:r,anchor:i});this.removeListeners=bn(Sn,this.props,a),this.setState(function(){return{marker:a}})}},{key:"componentDidUpdate",value:function(){var e=this.props.children,t=this.state.marker;this.removeListeners(),this.removeListeners=bn(Sn,this.props,t),i.isReact16()||o.unstable_renderSubtreeIntoContainer(this,e,t.element)}},{key:"componentWillUnmount",value:function(){var e=this.state.marker;i.isReact16()||o.unmountComponentAtNode(e.element),e.setMap(null)}},{key:"render",value:function(){var e=this.props.children,t=this.state.marker;return t&&i.isReact16()?o.createPortal(e,t.element):null}}],[{key:"isReact16",value:function(){return"function"==typeof o.createPortal}}]),i}();d(wn,"defaultProps",{className:"",anchor:{x:0,y:0}});var kn=_n(wn),Pn=t.createClassNames("GeoSearch"),Cn=function(e){function t(){return u(this,t),p(this,f(t).apply(this,arguments))}return v(t,n.Component),l(t,[{key:"getStateContext",value:function(){return this.context[hn]}},{key:"render",value:function(){var e=this.props,t=e.googleMapsInstance,n=e.translate,o=this.getStateContext(),r=o.hasMapMoveSinceLastRefine,i=o.refineWithInstance;return h.createElement("div",{className:Pn("control")},h.createElement("button",{className:Pn("redo",!r&&"redo--disabled"),disabled:!r,onClick:function(){return i(t)}},n("redo")))}}]),t}();d(Cn,"contextTypes",d({},hn,R.shape({hasMapMoveSinceLastRefine:R.bool.isRequired,refineWithInstance:R.func.isRequired}).isRequired));var En=t.translatable({redo:"Redo search here"})(_n(Cn)),xn=t.createClassNames("GeoSearch"),Ln=function(e){function t(){return u(this,t),p(this,f(t).apply(this,arguments))}return v(t,n.Component),l(t,[{key:"getStateContext",value:function(){return this.context[hn]}},{key:"render",value:function(){var e=this.props,t=e.googleMapsInstance,n=e.translate,o=this.getStateContext(),r=o.isRefineOnMapMove,i=o.hasMapMoveSinceLastRefine,a=o.toggleRefineOnMapMove,s=o.refineWithInstance;return h.createElement("div",{className:xn("control")},r||!i?h.createElement("label",{className:xn("label")},h.createElement("input",{className:xn("input"),type:"checkbox",checked:r,onChange:a}),n("control")):h.createElement("button",{className:xn("redo"),onClick:function(){return s(t)}},n("redo")))}}]),t}();d(Ln,"contextTypes",d({},hn,R.shape({isRefineOnMapMove:R.bool.isRequired,toggleRefineOnMapMove:R.func.isRequired,hasMapMoveSinceLastRefine:R.bool.isRequired,refineWithInstance:R.func.isRequired}).isRequired));var In=t.translatable({control:"Search as I move the map",redo:"Redo search here"})(_n(Ln)),Un=b(function(n){!function(e,t){n.exports?n.exports=t():this.$script=t()}(0,function(){var u,r,i=document,a=i.getElementsByTagName("head")[0],s=!1,l="push",c="readyState",p="onreadystatechange",f={},h={},v={};function d(e,t){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return s;return 1}function y(e,t){d(e,function(e){return!t(e)})}function g(e,t,n){e=e[l]?e:[e];var o=t&&t.call,r=o?t:n,i=o?e.join(""):t,a=e.length;function s(e){return e.call?e():f[e]}function c(){if(!--a)for(var e in f[i]=1,r&&r(),h)d(e.split("|"),s)&&!y(h[e],s)&&(h[e]=[])}return setTimeout(function(){y(e,function e(t,n){return null===t?c():(n||/^https?:\/\//.test(t)||!u||(t=-1===t.indexOf(".js")?u+t+".js":u+t),v[t]?2==v[t]?c():setTimeout(function(){e(t,!0)},0):(v[t]=1,void m(t,c)))})},0),g}function m(e,t){var n,o=i.createElement("script");o.onload=o.onerror=o[p]=function(){o[c]&&!/^c|loade/.test(o[c])||n||(o.onload=o[p]=null,n=1,v[e]=2,t())},o.async=1,o.src=r?e+(-1===e.indexOf("?")?"?":"&")+r:e,a.insertBefore(o,a.lastChild)}return g.get=m,g.order=function(n,o,r){!function e(t){t=n.shift(),n.length?g(t,e):g(t,o,r)}()},g.path=function(e){u=e},g.urlArgs=function(e){r=e},g.ready=function(e,t,n){e=e[l]?e:[e];var o,r=[];return!y(e,function(e){f[e]||r[l](e)})&&d(e,function(e){return f[e]})?t():(o=e.join("|"),h[o]=h[o]||[],h[o][l](t),n&&n(r)),g},g.done=function(e){g([null],e)},g})}),Wn=Object.freeze({default:Un,__moduleExports:Un});e.Control=In,e.CustomMarker=kn,e.GeoSearch=gn,e.GoogleMapsLoader=S,e.Marker=Rn,e.Redo=En,e.withGoogleMaps=_n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ReactInstantSearchDOMMaps.min.js.map
