{"ast":null,"code":"'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function (sort) {\n    return sort.split(':');\n  });\n  return sortBy.reduce(function preparePredicate(out, sort) {\n    var sortInstruction = sort.split(':');\n    var matchingDefault = find(defaultInstructions, function (defaultInstruction) {\n      return defaultInstruction[0] === sortInstruction[0];\n    });\n    if (sortInstruction.length > 1 || !matchingDefault) {\n      out[0].push(sortInstruction[0]);\n      out[1].push(sortInstruction[1]);\n      return out;\n    }\n    out[0].push(matchingDefault[0]);\n    out[1].push(matchingDefault[1]);\n    return out;\n  }, [[], []]);\n};","map":{"version":3,"names":["find","require","module","exports","formatSort","sortBy","defaults","defaultInstructions","map","sort","split","reduce","preparePredicate","out","sortInstruction","matchingDefault","defaultInstruction","length","push"],"sources":["/Users/amandawinkler/Downloads/algolia-instantsearch-react-geo/node_modules/algoliasearch-helper/src/functions/formatSort.js"],"sourcesContent":["'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function(sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(defaultInstructions, function(\n        defaultInstruction\n      ) {\n        return defaultInstruction[0] === sortInstruction[0];\n      });\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACAC,MAAM,CAACC,OAAO,GAAG,SAASC,UAAUA,CAACC,MAAM,EAAEC,QAAQ,EAAE;EACrD,IAAIC,mBAAmB,GAAG,CAACD,QAAQ,IAAI,EAAE,EAAEE,GAAG,CAAC,UAASC,IAAI,EAAE;IAC5D,OAAOA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC;EACxB,CAAC,CAAC;EAEF,OAAOL,MAAM,CAACM,MAAM,CAClB,SAASC,gBAAgBA,CAACC,GAAG,EAAEJ,IAAI,EAAE;IACnC,IAAIK,eAAe,GAAGL,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC;IAErC,IAAIK,eAAe,GAAGf,IAAI,CAACO,mBAAmB,EAAE,UAC9CS,kBAAkB,EAClB;MACA,OAAOA,kBAAkB,CAAC,CAAC,CAAC,KAAKF,eAAe,CAAC,CAAC,CAAC;IACrD,CAAC,CAAC;IAEF,IAAIA,eAAe,CAACG,MAAM,GAAG,CAAC,IAAI,CAACF,eAAe,EAAE;MAClDF,GAAG,CAAC,CAAC,CAAC,CAACK,IAAI,CAACJ,eAAe,CAAC,CAAC,CAAC,CAAC;MAC/BD,GAAG,CAAC,CAAC,CAAC,CAACK,IAAI,CAACJ,eAAe,CAAC,CAAC,CAAC,CAAC;MAC/B,OAAOD,GAAG;IACZ;IAEAA,GAAG,CAAC,CAAC,CAAC,CAACK,IAAI,CAACH,eAAe,CAAC,CAAC,CAAC,CAAC;IAC/BF,GAAG,CAAC,CAAC,CAAC,CAACK,IAAI,CAACH,eAAe,CAAC,CAAC,CAAC,CAAC;IAC/B,OAAOF,GAAG;EACZ,CAAC,EACD,CAAC,EAAE,EAAE,EAAE,CAAC,CACT;AACH,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}