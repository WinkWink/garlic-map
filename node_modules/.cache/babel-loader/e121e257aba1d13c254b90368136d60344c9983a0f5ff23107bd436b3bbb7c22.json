{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nimport PropTypes from 'prop-types';\nimport createConnector from \"../core/createConnector.js\";\nimport { refineValue, getResults } from \"../core/indexUtils.js\";\nexport var getId = function getId(props) {\n  return props.attributes[0];\n};\nvar namespace = 'hierarchicalMenu';\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId(props);\n  var nextValue = _defineProperty({}, id, nextRefinement || '');\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage, namespace);\n}\nfunction transformValue(values) {\n  return values.reduce(function (acc, item) {\n    if (item.isRefined) {\n      acc.push({\n        label: item.name,\n        // If dealing with a nested \"items\", \"value\" is equal to the previous value concatenated with the current value\n        // If dealing with the first level, \"value\" is equal to the current value\n        value: item.escapedValue\n      });\n      // Create a variable in order to keep the same acc for the recursion, otherwise \"reduce\" returns a new one\n      if (item.data) {\n        acc = acc.concat(transformValue(item.data, acc));\n      }\n    }\n    return acc;\n  }, []);\n}\n\n/**\n * The breadcrumb component is s a type of secondary navigation scheme that\n * reveals the user’s location in a website or web application.\n *\n * @name connectBreadcrumb\n * @requirements To use this widget, your attributes must be formatted in a specific way.\n * If you want for example to have a Breadcrumb of categories, objects in your index\n * should be formatted this way:\n *\n * ```json\n * {\n *   \"categories.lvl0\": \"products\",\n *   \"categories.lvl1\": \"products > fruits\",\n *   \"categories.lvl2\": \"products > fruits > citrus\"\n * }\n * ```\n *\n * It's also possible to provide more than one path for each level:\n *\n * ```json\n * {\n *   \"categories.lvl0\": [\"products\", \"goods\"],\n *   \"categories.lvl1\": [\"products > fruits\", \"goods > to eat\"]\n * }\n * ```\n *\n * All attributes passed to the `attributes` prop must be present in \"attributes for faceting\"\n * on the Algolia dashboard or configured as `attributesForFaceting` via a set settings call to the Algolia API.\n *\n * @kind connector\n * @propType {array.<string>} attributes - List of attributes to use to generate the hierarchy of the menu. See the example for the convention to follow.\n * @propType {function} [transformItems] - Function to modify the items being displayed, e.g. for filtering or sorting them. Takes an items as parameter and expects it back in return.\n * @providedPropType {function} refine - a function to toggle a refinement\n * @providedPropType {function} createURL - a function to generate a URL for the corresponding search state\n * @providedPropType {array.<{items: object, count: number, isRefined: boolean, label: string, value: string}>} items - the list of items the Breadcrumb can display.\n */\n\nexport default createConnector({\n  displayName: 'AlgoliaBreadcrumb',\n  $$type: 'ais.breadcrumb',\n  propTypes: {\n    attributes: function attributes(props, propName, componentName) {\n      var isNotString = function isNotString(val) {\n        return typeof val !== 'string';\n      };\n      if (!Array.isArray(props[propName]) || props[propName].some(isNotString) || props[propName].length < 1) {\n        return new Error(\"Invalid prop \".concat(propName, \" supplied to \").concat(componentName, \". Expected an Array of Strings\"));\n      }\n      return undefined;\n    },\n    transformItems: PropTypes.func\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var id = getId(props);\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var isFacetPresent = Boolean(results) && Boolean(results.getFacetByName(id));\n    if (!isFacetPresent) {\n      return {\n        items: [],\n        canRefine: false\n      };\n    }\n    var values = results.getFacetValues(id);\n    var items = values.data ? transformValue(values.data) : [];\n    var transformedItems = props.transformItems ? props.transformItems(items) : items;\n    return {\n      canRefine: transformedItems.length > 0,\n      items: transformedItems\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  }\n});","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","PropTypes","createConnector","refineValue","getResults","getId","props","attributes","namespace","_refine","searchState","nextRefinement","context","id","nextValue","resetPage","transformValue","values","reduce","acc","item","isRefined","push","label","name","escapedValue","data","concat","displayName","$$type","propTypes","propName","componentName","isNotString","val","Array","isArray","some","length","Error","transformItems","func","getProvidedProps","searchResults","results","ais","contextValue","multiIndexContext","indexContextValue","isFacetPresent","Boolean","getFacetByName","items","canRefine","getFacetValues","transformedItems","refine"],"sources":["/Users/amandawinkler/Downloads/algolia-instantsearch-react-geo/node_modules/react-instantsearch-core/dist/es/connectors/connectBreadcrumb.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport PropTypes from 'prop-types';\nimport createConnector from \"../core/createConnector.js\";\nimport { refineValue, getResults } from \"../core/indexUtils.js\";\nexport var getId = function getId(props) {\n  return props.attributes[0];\n};\nvar namespace = 'hierarchicalMenu';\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId(props);\n  var nextValue = _defineProperty({}, id, nextRefinement || '');\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage, namespace);\n}\nfunction transformValue(values) {\n  return values.reduce(function (acc, item) {\n    if (item.isRefined) {\n      acc.push({\n        label: item.name,\n        // If dealing with a nested \"items\", \"value\" is equal to the previous value concatenated with the current value\n        // If dealing with the first level, \"value\" is equal to the current value\n        value: item.escapedValue\n      });\n      // Create a variable in order to keep the same acc for the recursion, otherwise \"reduce\" returns a new one\n      if (item.data) {\n        acc = acc.concat(transformValue(item.data, acc));\n      }\n    }\n    return acc;\n  }, []);\n}\n\n/**\n * The breadcrumb component is s a type of secondary navigation scheme that\n * reveals the user’s location in a website or web application.\n *\n * @name connectBreadcrumb\n * @requirements To use this widget, your attributes must be formatted in a specific way.\n * If you want for example to have a Breadcrumb of categories, objects in your index\n * should be formatted this way:\n *\n * ```json\n * {\n *   \"categories.lvl0\": \"products\",\n *   \"categories.lvl1\": \"products > fruits\",\n *   \"categories.lvl2\": \"products > fruits > citrus\"\n * }\n * ```\n *\n * It's also possible to provide more than one path for each level:\n *\n * ```json\n * {\n *   \"categories.lvl0\": [\"products\", \"goods\"],\n *   \"categories.lvl1\": [\"products > fruits\", \"goods > to eat\"]\n * }\n * ```\n *\n * All attributes passed to the `attributes` prop must be present in \"attributes for faceting\"\n * on the Algolia dashboard or configured as `attributesForFaceting` via a set settings call to the Algolia API.\n *\n * @kind connector\n * @propType {array.<string>} attributes - List of attributes to use to generate the hierarchy of the menu. See the example for the convention to follow.\n * @propType {function} [transformItems] - Function to modify the items being displayed, e.g. for filtering or sorting them. Takes an items as parameter and expects it back in return.\n * @providedPropType {function} refine - a function to toggle a refinement\n * @providedPropType {function} createURL - a function to generate a URL for the corresponding search state\n * @providedPropType {array.<{items: object, count: number, isRefined: boolean, label: string, value: string}>} items - the list of items the Breadcrumb can display.\n */\n\nexport default createConnector({\n  displayName: 'AlgoliaBreadcrumb',\n  $$type: 'ais.breadcrumb',\n  propTypes: {\n    attributes: function attributes(props, propName, componentName) {\n      var isNotString = function isNotString(val) {\n        return typeof val !== 'string';\n      };\n      if (!Array.isArray(props[propName]) || props[propName].some(isNotString) || props[propName].length < 1) {\n        return new Error(\"Invalid prop \".concat(propName, \" supplied to \").concat(componentName, \". Expected an Array of Strings\"));\n      }\n      return undefined;\n    },\n    transformItems: PropTypes.func\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var id = getId(props);\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var isFacetPresent = Boolean(results) && Boolean(results.getFacetByName(id));\n    if (!isFacetPresent) {\n      return {\n        items: [],\n        canRefine: false\n      };\n    }\n    var values = results.getFacetValues(id);\n    var items = values.data ? transformValue(values.data) : [];\n    var transformedItems = props.transformItems ? props.transformItems(items) : items;\n    return {\n      canRefine: transformedItems.length > 0,\n      items: transformedItems\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}