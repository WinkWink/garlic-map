{"ast":null,"code":"module.exports = buildSearchMethod;\nvar errors = require('./errors.js');\n\n/**\n * Creates a search method to be used in clients\n * @param {string} queryParam the name of the attribute used for the query\n * @param {string} url the url\n * @return {function} the search method\n */\nfunction buildSearchMethod(queryParam, url) {\n  /**\n   * The search method. Prepares the data and send the query to Algolia.\n   * @param {string} query the string used for query search\n   * @param {object} args additional parameters to send with the search\n   * @param {function} [callback] the callback to be called with the client gets the answer\n   * @return {undefined|Promise} If the callback is not provided then this methods returns a Promise\n   */\n  return function search(query, args, callback) {\n    // warn V2 users on how to search\n    if (typeof query === 'function' && typeof args === 'object' || typeof callback === 'object') {\n      // .search(query, params, cb)\n      // .search(cb, params)\n      throw new errors.AlgoliaSearchError('index.search usage is index.search(query, params, cb)');\n    }\n\n    // Normalizing the function signature\n    if (arguments.length === 0 || typeof query === 'function') {\n      // Usage : .search(), .search(cb)\n      callback = query;\n      query = '';\n    } else if (arguments.length === 1 || typeof args === 'function') {\n      // Usage : .search(query/args), .search(query, cb)\n      callback = args;\n      args = undefined;\n    }\n    // At this point we have 3 arguments with values\n\n    // Usage : .search(args) // careful: typeof null === 'object'\n    if (typeof query === 'object' && query !== null) {\n      args = query;\n      query = undefined;\n    } else if (query === undefined || query === null) {\n      // .search(undefined/null)\n      query = '';\n    }\n    var params = '';\n    if (query !== undefined) {\n      params += queryParam + '=' + encodeURIComponent(query);\n    }\n    var additionalUA;\n    if (args !== undefined) {\n      if (args.additionalUA) {\n        additionalUA = args.additionalUA;\n        delete args.additionalUA;\n      }\n      // `_getSearchParams` will augment params, do not be fooled by the = versus += from previous if\n      params = this.as._getSearchParams(args, params);\n    }\n    return this._search(params, url, callback, additionalUA);\n  };\n}","map":{"version":3,"names":["module","exports","buildSearchMethod","errors","require","queryParam","url","search","query","args","callback","AlgoliaSearchError","arguments","length","undefined","params","encodeURIComponent","additionalUA","as","_getSearchParams","_search"],"sources":["/Users/amandawinkler/Downloads/algolia-instantsearch-react-geo/node_modules/algoliasearch/src/buildSearchMethod.js"],"sourcesContent":["module.exports = buildSearchMethod;\n\nvar errors = require('./errors.js');\n\n/**\n * Creates a search method to be used in clients\n * @param {string} queryParam the name of the attribute used for the query\n * @param {string} url the url\n * @return {function} the search method\n */\nfunction buildSearchMethod(queryParam, url) {\n  /**\n   * The search method. Prepares the data and send the query to Algolia.\n   * @param {string} query the string used for query search\n   * @param {object} args additional parameters to send with the search\n   * @param {function} [callback] the callback to be called with the client gets the answer\n   * @return {undefined|Promise} If the callback is not provided then this methods returns a Promise\n   */\n  return function search(query, args, callback) {\n    // warn V2 users on how to search\n    if (typeof query === 'function' && typeof args === 'object' ||\n      typeof callback === 'object') {\n      // .search(query, params, cb)\n      // .search(cb, params)\n      throw new errors.AlgoliaSearchError('index.search usage is index.search(query, params, cb)');\n    }\n\n    // Normalizing the function signature\n    if (arguments.length === 0 || typeof query === 'function') {\n      // Usage : .search(), .search(cb)\n      callback = query;\n      query = '';\n    } else if (arguments.length === 1 || typeof args === 'function') {\n      // Usage : .search(query/args), .search(query, cb)\n      callback = args;\n      args = undefined;\n    }\n    // At this point we have 3 arguments with values\n\n    // Usage : .search(args) // careful: typeof null === 'object'\n    if (typeof query === 'object' && query !== null) {\n      args = query;\n      query = undefined;\n    } else if (query === undefined || query === null) { // .search(undefined/null)\n      query = '';\n    }\n\n    var params = '';\n\n    if (query !== undefined) {\n      params += queryParam + '=' + encodeURIComponent(query);\n    }\n\n    var additionalUA;\n    if (args !== undefined) {\n      if (args.additionalUA) {\n        additionalUA = args.additionalUA;\n        delete args.additionalUA;\n      }\n      // `_getSearchParams` will augment params, do not be fooled by the = versus += from previous if\n      params = this.as._getSearchParams(args, params);\n    }\n\n\n    return this._search(params, url, callback, additionalUA);\n  };\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAGC,iBAAiB;AAElC,IAAIC,MAAM,GAAGC,OAAO,CAAC,aAAa,CAAC;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA,SAASF,iBAAiBA,CAACG,UAAU,EAAEC,GAAG,EAAE;EAC1C;AACF;AACA;AACA;AACA;AACA;AACA;EACE,OAAO,SAASC,MAAMA,CAACC,KAAK,EAAEC,IAAI,EAAEC,QAAQ,EAAE;IAC5C;IACA,IAAI,OAAOF,KAAK,KAAK,UAAU,IAAI,OAAOC,IAAI,KAAK,QAAQ,IACzD,OAAOC,QAAQ,KAAK,QAAQ,EAAE;MAC9B;MACA;MACA,MAAM,IAAIP,MAAM,CAACQ,kBAAkB,CAAC,uDAAuD,CAAC;IAC9F;;IAEA;IACA,IAAIC,SAAS,CAACC,MAAM,KAAK,CAAC,IAAI,OAAOL,KAAK,KAAK,UAAU,EAAE;MACzD;MACAE,QAAQ,GAAGF,KAAK;MAChBA,KAAK,GAAG,EAAE;IACZ,CAAC,MAAM,IAAII,SAAS,CAACC,MAAM,KAAK,CAAC,IAAI,OAAOJ,IAAI,KAAK,UAAU,EAAE;MAC/D;MACAC,QAAQ,GAAGD,IAAI;MACfA,IAAI,GAAGK,SAAS;IAClB;IACA;;IAEA;IACA,IAAI,OAAON,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,EAAE;MAC/CC,IAAI,GAAGD,KAAK;MACZA,KAAK,GAAGM,SAAS;IACnB,CAAC,MAAM,IAAIN,KAAK,KAAKM,SAAS,IAAIN,KAAK,KAAK,IAAI,EAAE;MAAE;MAClDA,KAAK,GAAG,EAAE;IACZ;IAEA,IAAIO,MAAM,GAAG,EAAE;IAEf,IAAIP,KAAK,KAAKM,SAAS,EAAE;MACvBC,MAAM,IAAIV,UAAU,GAAG,GAAG,GAAGW,kBAAkB,CAACR,KAAK,CAAC;IACxD;IAEA,IAAIS,YAAY;IAChB,IAAIR,IAAI,KAAKK,SAAS,EAAE;MACtB,IAAIL,IAAI,CAACQ,YAAY,EAAE;QACrBA,YAAY,GAAGR,IAAI,CAACQ,YAAY;QAChC,OAAOR,IAAI,CAACQ,YAAY;MAC1B;MACA;MACAF,MAAM,GAAG,IAAI,CAACG,EAAE,CAACC,gBAAgB,CAACV,IAAI,EAAEM,MAAM,CAAC;IACjD;IAGA,OAAO,IAAI,CAACK,OAAO,CAACL,MAAM,EAAET,GAAG,EAAEI,QAAQ,EAAEO,YAAY,CAAC;EAC1D,CAAC;AACH"},"metadata":{},"sourceType":"script","externalDependencies":[]}