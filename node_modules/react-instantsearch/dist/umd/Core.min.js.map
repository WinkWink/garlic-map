{"version":3,"file":"Core.min.js","sources":["../../../../node_modules/react-fast-compare/index.js","../../../react-instantsearch-core/dist/es/core/utils.js","../../../react-instantsearch-core/dist/es/core/context.js","../../../react-instantsearch-core/dist/es/core/createConnector.js"],"sourcesContent":["/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function';\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React\n    for (i = length; i-- !== 0;) {\n      if (keys[i] === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n// From https://github.com/reactjs/react-redux/blob/master/src/utils/shallowEqual.js\nexport var shallowEqual = function shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var hasOwn = Object.prototype.hasOwnProperty;\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n  return true;\n};\nexport var getDisplayName = function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'UnknownComponent';\n};\nvar resolved = Promise.resolve();\nexport var defer = function defer(f) {\n  resolved.then(f);\n};\nvar isPlainObject = function isPlainObject(value) {\n  return _typeof(value) === 'object' && value !== null && !Array.isArray(value);\n};\nexport var removeEmptyKey = function removeEmptyKey(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n    if (!isPlainObject(value)) {\n      return;\n    }\n    if (!objectHasKeys(value)) {\n      delete obj[key];\n    } else {\n      removeEmptyKey(value);\n    }\n  });\n  return obj;\n};\nexport var removeEmptyArraysFromObject = function removeEmptyArraysFromObject(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n    if (Array.isArray(value) && value.length === 0) {\n      delete obj[key];\n    }\n  });\n  return obj;\n};\nexport function addAbsolutePositions(hits, hitsPerPage, page) {\n  return hits.map(function (hit, index) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + index + 1\n    });\n  });\n}\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}\nexport function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n  return undefined;\n}\nexport function objectHasKeys(object) {\n  return object && Object.keys(object).length > 0;\n}\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nexport function omit(source, excluded) {\n  if (source === null || source === undefined) {\n    return {};\n  }\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  for (var i = 0; i < sourceKeys.length; i++) {\n    var key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    target[key] = source[key];\n  }\n  return target;\n}\n\n/**\n * Retrieve the value at a path of the object:\n *\n * @example\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   'test.this.function[0].now.everyone'\n * ); // true\n *\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   ['test', 'this', 'function', 0, 'now', 'everyone']\n * ); // true\n *\n * @param object Source object to query\n * @param path either an array of properties, or a string form of the properties, separated by .\n */\nexport var getPropertyByPath = function getPropertyByPath(object, path) {\n  return (Array.isArray(path) ? path : path.replace(/\\[(\\d+)]/g, '.$1').split('.')).reduce(function (current, key) {\n    return current ? current[key] : undefined;\n  }, object);\n};\nexport function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}\nexport function unescapeFacetValue(value) {\n  return value.replace(/^\\\\-/, '-');\n}","import { createContext } from 'react';\nexport var instantSearchContext = /*#__PURE__*/createContext({\n  onInternalStateUpdate: function onInternalStateUpdate() {\n    return undefined;\n  },\n  createHrefForState: function createHrefForState() {\n    return '#';\n  },\n  onSearchForFacetValues: function onSearchForFacetValues() {\n    return undefined;\n  },\n  onSearchStateChange: function onSearchStateChange() {\n    return undefined;\n  },\n  onSearchParameters: function onSearchParameters() {\n    return undefined;\n  },\n  store: {},\n  widgetsManager: {},\n  mainTargetedIndex: ''\n});\nvar InstantSearchConsumer = instantSearchContext.Consumer,\n  InstantSearchProvider = instantSearchContext.Provider;\nexport { InstantSearchConsumer, InstantSearchProvider };\nvar _createContext = /*#__PURE__*/createContext(undefined),\n  IndexConsumer = _createContext.Consumer,\n  IndexProvider = _createContext.Provider;\nexport { IndexConsumer, IndexProvider };","var _excluded = [\"contextValue\"];\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { Component } from 'react';\nimport isEqual from 'react-fast-compare';\nimport { shallowEqual, getDisplayName, removeEmptyKey } from \"./utils.js\";\nimport { InstantSearchConsumer, IndexConsumer } from \"./context.js\";\n/**\n * Connectors are the HOC used to transform React components\n * into InstantSearch widgets.\n * In order to simplify the construction of such connectors\n * `createConnector` takes a description and transform it into\n * a connector.\n * @param {ConnectorDescription} connectorDesc the description of the connector\n * @return {Connector} a function that wraps a component into\n * an instantsearch connected one.\n */\nexport function createConnectorWithoutContext(connectorDesc) {\n  if (!connectorDesc.displayName) {\n    throw new Error('`createConnector` requires you to provide a `displayName` property.');\n  }\n  var isWidget = typeof connectorDesc.getSearchParameters === 'function' || typeof connectorDesc.getMetadata === 'function' || typeof connectorDesc.transitionState === 'function';\n  return function (Composed) {\n    var additionalWidgetProperties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var Connector = /*#__PURE__*/function (_Component) {\n      _inherits(Connector, _Component);\n      var _super = _createSuper(Connector);\n      function Connector(props) {\n        var _this;\n        _classCallCheck(this, Connector);\n        _this = _super.call(this, props);\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribe\", void 0);\n        _defineProperty(_assertThisInitialized(_this), \"unregisterWidget\", void 0);\n        _defineProperty(_assertThisInitialized(_this), \"cleanupTimerRef\", null);\n        _defineProperty(_assertThisInitialized(_this), \"isUnmounting\", false);\n        _defineProperty(_assertThisInitialized(_this), \"state\", {\n          providedProps: _this.getProvidedProps(_this.props)\n        });\n        _defineProperty(_assertThisInitialized(_this), \"refine\", function () {\n          var _ref;\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          _this.props.contextValue.onInternalStateUpdate(\n          // refine will always be defined here because the prop is only given conditionally\n          (_ref = connectorDesc.refine).call.apply(_ref, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n        _defineProperty(_assertThisInitialized(_this), \"createURL\", function () {\n          var _ref2;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _this.props.contextValue.createHrefForState(\n          // refine will always be defined here because the prop is only given conditionally\n          (_ref2 = connectorDesc.refine).call.apply(_ref2, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n        _defineProperty(_assertThisInitialized(_this), \"searchForFacetValues\", function () {\n          var _ref3;\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n          _this.props.contextValue.onSearchForFacetValues(\n          // searchForFacetValues will always be defined here because the prop is only given conditionally\n          (_ref3 = connectorDesc.searchForFacetValues).call.apply(_ref3, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n        if (connectorDesc.getSearchParameters) {\n          _this.props.contextValue.onSearchParameters(connectorDesc.getSearchParameters.bind(_assertThisInitialized(_this)), {\n            ais: _this.props.contextValue,\n            multiIndexContext: _this.props.indexContextValue\n          }, _this.props, connectorDesc.getMetadata && connectorDesc.getMetadata.bind(_assertThisInitialized(_this)), connectorDesc.displayName);\n        }\n        return _this;\n      }\n      _createClass(Connector, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this2 = this;\n          if (this.cleanupTimerRef) {\n            clearTimeout(this.cleanupTimerRef);\n            this.cleanupTimerRef = null;\n          }\n          this.unsubscribe = this.props.contextValue.store.subscribe(function () {\n            if (!_this2.isUnmounting) {\n              _this2.setState({\n                providedProps: _this2.getProvidedProps(_this2.props)\n              });\n            }\n          });\n          if (isWidget) {\n            this.unregisterWidget = this.props.contextValue.widgetsManager.registerWidget(this);\n          }\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          if (typeof connectorDesc.shouldComponentUpdate === 'function') {\n            return connectorDesc.shouldComponentUpdate.call(this, this.props, nextProps, this.state, nextState);\n          }\n          var propsEqual = shallowEqual(this.props, nextProps);\n          if (this.state.providedProps === null || nextState.providedProps === null) {\n            if (this.state.providedProps === nextState.providedProps) {\n              return !propsEqual;\n            }\n            return true;\n          }\n          return !propsEqual || !shallowEqual(this.state.providedProps, nextState.providedProps);\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!isEqual(prevProps, this.props)) {\n            this.setState({\n              providedProps: this.getProvidedProps(this.props)\n            });\n            if (isWidget) {\n              this.props.contextValue.widgetsManager.update();\n              if (typeof connectorDesc.transitionState === 'function') {\n                this.props.contextValue.onSearchStateChange(connectorDesc.transitionState.call(this, this.props, this.props.contextValue.store.getState().widgets, this.props.contextValue.store.getState().widgets));\n              }\n            }\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          var _this3 = this;\n          this.cleanupTimerRef = setTimeout(function () {\n            _this3.isUnmounting = true;\n            if (_this3.unsubscribe) {\n              _this3.unsubscribe();\n            }\n            if (_this3.unregisterWidget) {\n              _this3.unregisterWidget();\n              if (typeof connectorDesc.cleanUp === 'function') {\n                var nextState = connectorDesc.cleanUp.call(_this3, _this3.props, _this3.props.contextValue.store.getState().widgets);\n                _this3.props.contextValue.store.setState(_objectSpread(_objectSpread({}, _this3.props.contextValue.store.getState()), {}, {\n                  widgets: nextState\n                }));\n                _this3.props.contextValue.onSearchStateChange(removeEmptyKey(nextState));\n              }\n            }\n          });\n        }\n      }, {\n        key: \"getProvidedProps\",\n        value: function getProvidedProps(props) {\n          var _this$props$contextVa = this.props.contextValue.store.getState(),\n            widgets = _this$props$contextVa.widgets,\n            results = _this$props$contextVa.results,\n            resultsFacetValues = _this$props$contextVa.resultsFacetValues,\n            searching = _this$props$contextVa.searching,\n            searchingForFacetValues = _this$props$contextVa.searchingForFacetValues,\n            isSearchStalled = _this$props$contextVa.isSearchStalled,\n            metadata = _this$props$contextVa.metadata,\n            error = _this$props$contextVa.error;\n          var searchResults = {\n            results: results,\n            searching: searching,\n            searchingForFacetValues: searchingForFacetValues,\n            isSearchStalled: isSearchStalled,\n            error: error\n          };\n          return connectorDesc.getProvidedProps.call(this, props, widgets, searchResults, metadata,\n          // @MAJOR: move this attribute on the `searchResults` it doesn't\n          // makes sense to have it into a separate argument. The search\n          // flags are on the object why not the results?\n          resultsFacetValues);\n        }\n      }, {\n        key: \"getSearchParameters\",\n        value: function getSearchParameters(searchParameters) {\n          if (typeof connectorDesc.getSearchParameters === 'function') {\n            return connectorDesc.getSearchParameters.call(this, searchParameters, this.props, this.props.contextValue.store.getState().widgets);\n          }\n          return null;\n        }\n      }, {\n        key: \"getMetadata\",\n        value: function getMetadata(nextWidgetsState) {\n          if (typeof connectorDesc.getMetadata === 'function') {\n            return connectorDesc.getMetadata.call(this, this.props, nextWidgetsState);\n          }\n          return {};\n        }\n      }, {\n        key: \"transitionState\",\n        value: function transitionState(prevWidgetsState, nextWidgetsState) {\n          if (typeof connectorDesc.transitionState === 'function') {\n            return connectorDesc.transitionState.call(this, this.props, prevWidgetsState, nextWidgetsState);\n          }\n          return nextWidgetsState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this$props = this.props,\n            contextValue = _this$props.contextValue,\n            props = _objectWithoutProperties(_this$props, _excluded);\n          var providedProps = this.state.providedProps;\n          if (providedProps === null) {\n            return null;\n          }\n          var refineProps = typeof connectorDesc.refine === 'function' ? {\n            refine: this.refine,\n            createURL: this.createURL\n          } : {};\n          var searchForFacetValuesProps = typeof connectorDesc.searchForFacetValues === 'function' ? {\n            searchForItems: this.searchForFacetValues\n          } : {};\n          return /*#__PURE__*/React.createElement(Composed, _extends({}, props, providedProps, refineProps, searchForFacetValuesProps));\n        }\n      }]);\n      return Connector;\n    }(Component);\n    _defineProperty(Connector, \"displayName\", \"\".concat(connectorDesc.displayName, \"(\").concat(getDisplayName(Composed), \")\"));\n    _defineProperty(Connector, \"$$type\", connectorDesc.$$type);\n    _defineProperty(Connector, \"$$widgetType\", additionalWidgetProperties.$$widgetType);\n    _defineProperty(Connector, \"propTypes\", connectorDesc.propTypes);\n    _defineProperty(Connector, \"defaultProps\", connectorDesc.defaultProps);\n    _defineProperty(Connector, \"_connectorDesc\", connectorDesc);\n    return Connector;\n  };\n}\nvar createConnectorWithContext = function createConnectorWithContext(connectorDesc) {\n  return function (Composed, additionalWidgetProperties) {\n    var Connector = createConnectorWithoutContext(connectorDesc)(Composed, additionalWidgetProperties);\n    var ConnectorWrapper = function ConnectorWrapper(props) {\n      return /*#__PURE__*/React.createElement(InstantSearchConsumer, null, function (contextValue) {\n        return /*#__PURE__*/React.createElement(IndexConsumer, null, function (indexContextValue) {\n          return /*#__PURE__*/React.createElement(Connector, _extends({\n            contextValue: contextValue,\n            indexContextValue: indexContextValue\n          }, props));\n        });\n      });\n    };\n    return ConnectorWrapper;\n  };\n};\nexport default createConnectorWithContext;"],"names":["hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","a","b","equal","constructor","length","i","keys","it","Array","isArray","size","entries","next","done","has","value","get","isView","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","$$typeof","error","message","match","console","warn","_typeof","obj","Symbol","iterator","shallowEqual","objA","objB","keysA","keysB","hasOwn","getDisplayName","Component","displayName","name","removeEmptyKey","forEach","key","object","instantSearchContext","createContext","onInternalStateUpdate","createHrefForState","onSearchForFacetValues","onSearchStateChange","onSearchParameters","store","widgetsManager","mainTargetedIndex","InstantSearchConsumer","Consumer","_createContext","Provider","undefined","IndexConsumer","_excluded","_extends","assign","bind","target","arguments","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ownKeys","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","e","Super","_getPrototypeOf","self","result","NewTarget","TypeError","_assertThisInitialized","ReferenceError","getPrototypeOf","arg","input","hint","prim","toPrimitive","String","Number","res","createConnectorWithoutContext","connectorDesc","isWidget","getSearchParameters","getMetadata","transitionState","Composed","additionalWidgetProperties","Connector","_Component","_inherits","subClass","superClass","create","staticProps","_super","_this","providedProps","getProvidedProps","_ref","_len","args","_key","contextValue","refine","getState","widgets","concat","_ref2","_len2","_key2","_ref3","_len3","_key3","searchForFacetValues","ais","multiIndexContext","indexContextValue","Constructor","protoProps","_this2","cleanupTimerRef","clearTimeout","unsubscribe","subscribe","isUnmounting","setState","unregisterWidget","registerWidget","nextProps","nextState","shouldComponentUpdate","state","propsEqual","prevProps","isEqual","update","_this3","setTimeout","cleanUp","_this$props$contextVa","results","resultsFacetValues","searching","searchingForFacetValues","isSearchStalled","metadata","searchParameters","nextWidgetsState","prevWidgetsState","refineProps","searchForFacetValuesProps","_this$props","createURL","searchForItems","React","createElement","$$type","$$widgetType","propTypes","defaultProps","Error"],"mappings":"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"}