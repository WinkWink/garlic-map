{"version":3,"file":"Core.js","sources":["../../../../node_modules/react-fast-compare/index.js","../../../react-instantsearch-core/dist/es/core/utils.js","../../../react-instantsearch-core/dist/es/core/context.js","../../../react-instantsearch-core/dist/es/core/createConnector.js"],"sourcesContent":["/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function';\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React\n    for (i = length; i-- !== 0;) {\n      if (keys[i] === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n// From https://github.com/reactjs/react-redux/blob/master/src/utils/shallowEqual.js\nexport var shallowEqual = function shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var hasOwn = Object.prototype.hasOwnProperty;\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n  return true;\n};\nexport var getDisplayName = function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'UnknownComponent';\n};\nvar resolved = Promise.resolve();\nexport var defer = function defer(f) {\n  resolved.then(f);\n};\nvar isPlainObject = function isPlainObject(value) {\n  return _typeof(value) === 'object' && value !== null && !Array.isArray(value);\n};\nexport var removeEmptyKey = function removeEmptyKey(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n    if (!isPlainObject(value)) {\n      return;\n    }\n    if (!objectHasKeys(value)) {\n      delete obj[key];\n    } else {\n      removeEmptyKey(value);\n    }\n  });\n  return obj;\n};\nexport var removeEmptyArraysFromObject = function removeEmptyArraysFromObject(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n    if (Array.isArray(value) && value.length === 0) {\n      delete obj[key];\n    }\n  });\n  return obj;\n};\nexport function addAbsolutePositions(hits, hitsPerPage, page) {\n  return hits.map(function (hit, index) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + index + 1\n    });\n  });\n}\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}\nexport function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n  return undefined;\n}\nexport function objectHasKeys(object) {\n  return object && Object.keys(object).length > 0;\n}\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nexport function omit(source, excluded) {\n  if (source === null || source === undefined) {\n    return {};\n  }\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  for (var i = 0; i < sourceKeys.length; i++) {\n    var key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    target[key] = source[key];\n  }\n  return target;\n}\n\n/**\n * Retrieve the value at a path of the object:\n *\n * @example\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   'test.this.function[0].now.everyone'\n * ); // true\n *\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   ['test', 'this', 'function', 0, 'now', 'everyone']\n * ); // true\n *\n * @param object Source object to query\n * @param path either an array of properties, or a string form of the properties, separated by .\n */\nexport var getPropertyByPath = function getPropertyByPath(object, path) {\n  return (Array.isArray(path) ? path : path.replace(/\\[(\\d+)]/g, '.$1').split('.')).reduce(function (current, key) {\n    return current ? current[key] : undefined;\n  }, object);\n};\nexport function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}\nexport function unescapeFacetValue(value) {\n  return value.replace(/^\\\\-/, '-');\n}","import { createContext } from 'react';\nexport var instantSearchContext = /*#__PURE__*/createContext({\n  onInternalStateUpdate: function onInternalStateUpdate() {\n    return undefined;\n  },\n  createHrefForState: function createHrefForState() {\n    return '#';\n  },\n  onSearchForFacetValues: function onSearchForFacetValues() {\n    return undefined;\n  },\n  onSearchStateChange: function onSearchStateChange() {\n    return undefined;\n  },\n  onSearchParameters: function onSearchParameters() {\n    return undefined;\n  },\n  store: {},\n  widgetsManager: {},\n  mainTargetedIndex: ''\n});\nvar InstantSearchConsumer = instantSearchContext.Consumer,\n  InstantSearchProvider = instantSearchContext.Provider;\nexport { InstantSearchConsumer, InstantSearchProvider };\nvar _createContext = /*#__PURE__*/createContext(undefined),\n  IndexConsumer = _createContext.Consumer,\n  IndexProvider = _createContext.Provider;\nexport { IndexConsumer, IndexProvider };","var _excluded = [\"contextValue\"];\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { Component } from 'react';\nimport isEqual from 'react-fast-compare';\nimport { shallowEqual, getDisplayName, removeEmptyKey } from \"./utils.js\";\nimport { InstantSearchConsumer, IndexConsumer } from \"./context.js\";\n/**\n * Connectors are the HOC used to transform React components\n * into InstantSearch widgets.\n * In order to simplify the construction of such connectors\n * `createConnector` takes a description and transform it into\n * a connector.\n * @param {ConnectorDescription} connectorDesc the description of the connector\n * @return {Connector} a function that wraps a component into\n * an instantsearch connected one.\n */\nexport function createConnectorWithoutContext(connectorDesc) {\n  if (!connectorDesc.displayName) {\n    throw new Error('`createConnector` requires you to provide a `displayName` property.');\n  }\n  var isWidget = typeof connectorDesc.getSearchParameters === 'function' || typeof connectorDesc.getMetadata === 'function' || typeof connectorDesc.transitionState === 'function';\n  return function (Composed) {\n    var additionalWidgetProperties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var Connector = /*#__PURE__*/function (_Component) {\n      _inherits(Connector, _Component);\n      var _super = _createSuper(Connector);\n      function Connector(props) {\n        var _this;\n        _classCallCheck(this, Connector);\n        _this = _super.call(this, props);\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribe\", void 0);\n        _defineProperty(_assertThisInitialized(_this), \"unregisterWidget\", void 0);\n        _defineProperty(_assertThisInitialized(_this), \"cleanupTimerRef\", null);\n        _defineProperty(_assertThisInitialized(_this), \"isUnmounting\", false);\n        _defineProperty(_assertThisInitialized(_this), \"state\", {\n          providedProps: _this.getProvidedProps(_this.props)\n        });\n        _defineProperty(_assertThisInitialized(_this), \"refine\", function () {\n          var _ref;\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          _this.props.contextValue.onInternalStateUpdate(\n          // refine will always be defined here because the prop is only given conditionally\n          (_ref = connectorDesc.refine).call.apply(_ref, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n        _defineProperty(_assertThisInitialized(_this), \"createURL\", function () {\n          var _ref2;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _this.props.contextValue.createHrefForState(\n          // refine will always be defined here because the prop is only given conditionally\n          (_ref2 = connectorDesc.refine).call.apply(_ref2, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n        _defineProperty(_assertThisInitialized(_this), \"searchForFacetValues\", function () {\n          var _ref3;\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n          _this.props.contextValue.onSearchForFacetValues(\n          // searchForFacetValues will always be defined here because the prop is only given conditionally\n          (_ref3 = connectorDesc.searchForFacetValues).call.apply(_ref3, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n        if (connectorDesc.getSearchParameters) {\n          _this.props.contextValue.onSearchParameters(connectorDesc.getSearchParameters.bind(_assertThisInitialized(_this)), {\n            ais: _this.props.contextValue,\n            multiIndexContext: _this.props.indexContextValue\n          }, _this.props, connectorDesc.getMetadata && connectorDesc.getMetadata.bind(_assertThisInitialized(_this)), connectorDesc.displayName);\n        }\n        return _this;\n      }\n      _createClass(Connector, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this2 = this;\n          if (this.cleanupTimerRef) {\n            clearTimeout(this.cleanupTimerRef);\n            this.cleanupTimerRef = null;\n          }\n          this.unsubscribe = this.props.contextValue.store.subscribe(function () {\n            if (!_this2.isUnmounting) {\n              _this2.setState({\n                providedProps: _this2.getProvidedProps(_this2.props)\n              });\n            }\n          });\n          if (isWidget) {\n            this.unregisterWidget = this.props.contextValue.widgetsManager.registerWidget(this);\n          }\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          if (typeof connectorDesc.shouldComponentUpdate === 'function') {\n            return connectorDesc.shouldComponentUpdate.call(this, this.props, nextProps, this.state, nextState);\n          }\n          var propsEqual = shallowEqual(this.props, nextProps);\n          if (this.state.providedProps === null || nextState.providedProps === null) {\n            if (this.state.providedProps === nextState.providedProps) {\n              return !propsEqual;\n            }\n            return true;\n          }\n          return !propsEqual || !shallowEqual(this.state.providedProps, nextState.providedProps);\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!isEqual(prevProps, this.props)) {\n            this.setState({\n              providedProps: this.getProvidedProps(this.props)\n            });\n            if (isWidget) {\n              this.props.contextValue.widgetsManager.update();\n              if (typeof connectorDesc.transitionState === 'function') {\n                this.props.contextValue.onSearchStateChange(connectorDesc.transitionState.call(this, this.props, this.props.contextValue.store.getState().widgets, this.props.contextValue.store.getState().widgets));\n              }\n            }\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          var _this3 = this;\n          this.cleanupTimerRef = setTimeout(function () {\n            _this3.isUnmounting = true;\n            if (_this3.unsubscribe) {\n              _this3.unsubscribe();\n            }\n            if (_this3.unregisterWidget) {\n              _this3.unregisterWidget();\n              if (typeof connectorDesc.cleanUp === 'function') {\n                var nextState = connectorDesc.cleanUp.call(_this3, _this3.props, _this3.props.contextValue.store.getState().widgets);\n                _this3.props.contextValue.store.setState(_objectSpread(_objectSpread({}, _this3.props.contextValue.store.getState()), {}, {\n                  widgets: nextState\n                }));\n                _this3.props.contextValue.onSearchStateChange(removeEmptyKey(nextState));\n              }\n            }\n          });\n        }\n      }, {\n        key: \"getProvidedProps\",\n        value: function getProvidedProps(props) {\n          var _this$props$contextVa = this.props.contextValue.store.getState(),\n            widgets = _this$props$contextVa.widgets,\n            results = _this$props$contextVa.results,\n            resultsFacetValues = _this$props$contextVa.resultsFacetValues,\n            searching = _this$props$contextVa.searching,\n            searchingForFacetValues = _this$props$contextVa.searchingForFacetValues,\n            isSearchStalled = _this$props$contextVa.isSearchStalled,\n            metadata = _this$props$contextVa.metadata,\n            error = _this$props$contextVa.error;\n          var searchResults = {\n            results: results,\n            searching: searching,\n            searchingForFacetValues: searchingForFacetValues,\n            isSearchStalled: isSearchStalled,\n            error: error\n          };\n          return connectorDesc.getProvidedProps.call(this, props, widgets, searchResults, metadata,\n          // @MAJOR: move this attribute on the `searchResults` it doesn't\n          // makes sense to have it into a separate argument. The search\n          // flags are on the object why not the results?\n          resultsFacetValues);\n        }\n      }, {\n        key: \"getSearchParameters\",\n        value: function getSearchParameters(searchParameters) {\n          if (typeof connectorDesc.getSearchParameters === 'function') {\n            return connectorDesc.getSearchParameters.call(this, searchParameters, this.props, this.props.contextValue.store.getState().widgets);\n          }\n          return null;\n        }\n      }, {\n        key: \"getMetadata\",\n        value: function getMetadata(nextWidgetsState) {\n          if (typeof connectorDesc.getMetadata === 'function') {\n            return connectorDesc.getMetadata.call(this, this.props, nextWidgetsState);\n          }\n          return {};\n        }\n      }, {\n        key: \"transitionState\",\n        value: function transitionState(prevWidgetsState, nextWidgetsState) {\n          if (typeof connectorDesc.transitionState === 'function') {\n            return connectorDesc.transitionState.call(this, this.props, prevWidgetsState, nextWidgetsState);\n          }\n          return nextWidgetsState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this$props = this.props,\n            contextValue = _this$props.contextValue,\n            props = _objectWithoutProperties(_this$props, _excluded);\n          var providedProps = this.state.providedProps;\n          if (providedProps === null) {\n            return null;\n          }\n          var refineProps = typeof connectorDesc.refine === 'function' ? {\n            refine: this.refine,\n            createURL: this.createURL\n          } : {};\n          var searchForFacetValuesProps = typeof connectorDesc.searchForFacetValues === 'function' ? {\n            searchForItems: this.searchForFacetValues\n          } : {};\n          return /*#__PURE__*/React.createElement(Composed, _extends({}, props, providedProps, refineProps, searchForFacetValuesProps));\n        }\n      }]);\n      return Connector;\n    }(Component);\n    _defineProperty(Connector, \"displayName\", \"\".concat(connectorDesc.displayName, \"(\").concat(getDisplayName(Composed), \")\"));\n    _defineProperty(Connector, \"$$type\", connectorDesc.$$type);\n    _defineProperty(Connector, \"$$widgetType\", additionalWidgetProperties.$$widgetType);\n    _defineProperty(Connector, \"propTypes\", connectorDesc.propTypes);\n    _defineProperty(Connector, \"defaultProps\", connectorDesc.defaultProps);\n    _defineProperty(Connector, \"_connectorDesc\", connectorDesc);\n    return Connector;\n  };\n}\nvar createConnectorWithContext = function createConnectorWithContext(connectorDesc) {\n  return function (Composed, additionalWidgetProperties) {\n    var Connector = createConnectorWithoutContext(connectorDesc)(Composed, additionalWidgetProperties);\n    var ConnectorWrapper = function ConnectorWrapper(props) {\n      return /*#__PURE__*/React.createElement(InstantSearchConsumer, null, function (contextValue) {\n        return /*#__PURE__*/React.createElement(IndexConsumer, null, function (indexContextValue) {\n          return /*#__PURE__*/React.createElement(Connector, _extends({\n            contextValue: contextValue,\n            indexContextValue: indexContextValue\n          }, props));\n        });\n      });\n    };\n    return ConnectorWrapper;\n  };\n};\nexport default createConnectorWithContext;"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","shallowEqual","objA","objB","keysA","Object","keys","keysB","length","hasOwn","hasOwnProperty","i","call","getDisplayName","Component","displayName","name","isPlainObject","value","Array","isArray","removeEmptyKey","forEach","key","objectHasKeys","object","instantSearchContext","createContext","onInternalStateUpdate","undefined","createHrefForState","onSearchForFacetValues","onSearchStateChange","onSearchParameters","store","widgetsManager","mainTargetedIndex","InstantSearchConsumer","Consumer","InstantSearchProvider","Provider","_createContext","IndexConsumer","IndexProvider","_excluded","_extends","assign","bind","target","arguments","source","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","ownKeys","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","Number","createConnectorWithoutContext","connectorDesc","Error","isWidget","getSearchParameters","getMetadata","transitionState","Composed","additionalWidgetProperties","Connector","_Component","_super","_this","providedProps","getProvidedProps","_ref","_len","args","_key","contextValue","refine","getState","widgets","concat","_ref2","_len2","_key2","_ref3","_len3","_key3","searchForFacetValues","ais","multiIndexContext","indexContextValue","componentDidMount","_this2","cleanupTimerRef","clearTimeout","unsubscribe","subscribe","isUnmounting","setState","unregisterWidget","registerWidget","shouldComponentUpdate","nextProps","nextState","state","propsEqual","componentDidUpdate","prevProps","isEqual","update","componentWillUnmount","_this3","setTimeout","cleanUp","_this$props$contextVa","results","resultsFacetValues","searching","searchingForFacetValues","isSearchStalled","metadata","error","searchResults","searchParameters","nextWidgetsState","prevWidgetsState","render","_this$props","refineProps","createURL","searchForFacetValuesProps","searchForItems","React","createElement","$$type","$$widgetType","propTypes","defaultProps","createConnectorWithContext","ConnectorWrapper"],"mappings":";;;;;;;;;EAAA;AACA;EACA,IAAI,cAAc,GAAG,OAAO,OAAO,KAAK,WAAW,CAAC;EACpD,IAAI,MAAM,GAAG,OAAO,GAAG,KAAK,UAAU,CAAC;EACvC,IAAI,MAAM,GAAG,OAAO,GAAG,KAAK,UAAU,CAAC;EACvC,IAAI,cAAc,GAAG,OAAO,WAAW,KAAK,UAAU,CAAC;AACvD;EACA;AACA;EACA,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE;EACrB;EACA,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;AAC3B;EACA,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,QAAQ,IAAI,OAAO,CAAC,IAAI,QAAQ,EAAE;EAC9D,IAAI,IAAI,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,WAAW,EAAE,OAAO,KAAK,CAAC;AACtD;EACA,IAAI,IAAI,MAAM,EAAE,CAAC,EAAE,IAAI,CAAC;EACxB,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;EAC1B,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;EACxB,MAAM,IAAI,MAAM,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO,KAAK,CAAC;EAC3C,MAAM,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC;EAChC,QAAQ,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EAC7C,MAAM,OAAO,IAAI,CAAC;EAClB,KAAK;AACL;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,IAAI,EAAE,CAAC;EACX,IAAI,IAAI,MAAM,KAAK,CAAC,YAAY,GAAG,CAAC,KAAK,CAAC,YAAY,GAAG,CAAC,EAAE;EAC5D,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE,OAAO,KAAK,CAAC;EAC1C,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;EACvB,MAAM,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI;EAClC,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EAC7C,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;EACvB,MAAM,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI;EAClC,QAAQ,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EAChE,MAAM,OAAO,IAAI,CAAC;EAClB,KAAK;AACL;EACA,IAAI,IAAI,MAAM,KAAK,CAAC,YAAY,GAAG,CAAC,KAAK,CAAC,YAAY,GAAG,CAAC,EAAE;EAC5D,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE,OAAO,KAAK,CAAC;EAC1C,MAAM,EAAE,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;EACvB,MAAM,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI;EAClC,QAAQ,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EAC7C,MAAM,OAAO,IAAI,CAAC;EAClB,KAAK;EACL;AACA;EACA,IAAI,IAAI,cAAc,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;EAC1E,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;EACxB,MAAM,IAAI,MAAM,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO,KAAK,CAAC;EAC3C,MAAM,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC;EAChC,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EACxC,MAAM,OAAO,IAAI,CAAC;EAClB,KAAK;AACL;EACA,IAAI,IAAI,CAAC,CAAC,WAAW,KAAK,MAAM,EAAE,OAAO,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,KAAK,CAAC;EACtF,IAAI,IAAI,CAAC,CAAC,OAAO,KAAK,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,OAAO,EAAE,CAAC;EACnF,IAAI,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;AACvF;EACA,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EAC1B,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;EACzB,IAAI,IAAI,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,OAAO,KAAK,CAAC;AACvD;EACA,IAAI,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC;EAC9B,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EAC1E;AACA;EACA;EACA;EACA,IAAI,IAAI,cAAc,IAAI,CAAC,YAAY,OAAO,EAAE,OAAO,KAAK,CAAC;AAC7D;EACA;EACA,IAAI,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG;EACjC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE;EAC9C;EACA;EACA;EACA;EACA,QAAQ,SAAS;EACjB,OAAO;AACP;EACA;EACA,MAAM,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;EACvD,KAAK;EACL;AACA;EACA;EACA,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;AACH;EACA,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EAC5B,CAAC;EACD;AACA;EACA,oBAAc,GAAG,SAAS,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE;EACxC,EAAE,IAAI;EACN,IAAI,OAAO,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACvB,GAAG,CAAC,OAAO,KAAK,EAAE;EAClB,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,IAAI,EAAE,EAAE,KAAK,CAAC,kBAAkB,CAAC,GAAG;EAC3D;EACA;EACA;EACA;EACA;EACA,MAAM,OAAO,CAAC,IAAI,CAAC,gDAAgD,CAAC,CAAC;EACrE,MAAM,OAAO,KAAK,CAAC;EACnB,KAAK;EACL;EACA,IAAI,MAAM,KAAK,CAAC;EAChB,GAAG;EACH,CAAC;;EC5HD,SAASA,OAAO,CAACC,GAAG,EAAE;IAAE,yBAAyB;;IAAE,OAAOD,OAAO,GAAG,UAAU,IAAI,OAAOE,MAAM,IAAI,QAAQ,IAAI,OAAOA,MAAM,CAACC,QAAQ,GAAG,UAAUF,GAAG,EAAE;MAAE,OAAO,OAAOA,GAAG;KAAG,GAAG,UAAUA,GAAG,EAAE;MAAE,OAAOA,GAAG,IAAI,UAAU,IAAI,OAAOC,MAAM,IAAID,GAAG,CAACG,WAAW,KAAKF,MAAM,IAAID,GAAG,KAAKC,MAAM,CAACG,SAAS,GAAG,QAAQ,GAAG,OAAOJ,GAAG;KAAG,EAAED,OAAO,CAACC,GAAG,CAAC;EAAE;EAC/U;AACA,EAAO,IAAIK,YAAY,GAAG,SAASA,YAAY,CAACC,IAAI,EAAEC,IAAI,EAAE;IAC1D,IAAID,IAAI,KAAKC,IAAI,EAAE;MACjB,OAAO,IAAI;;IAEb,IAAIC,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC;IAC7B,IAAIK,KAAK,GAAGF,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC;IAC7B,IAAIC,KAAK,CAACI,MAAM,KAAKD,KAAK,CAACC,MAAM,EAAE;MACjC,OAAO,KAAK;;;;IAId,IAAIC,MAAM,GAAGJ,MAAM,CAACL,SAAS,CAACU,cAAc;IAC5C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,KAAK,CAACI,MAAM,EAAEG,CAAC,EAAE,EAAE;MACrC,IAAI,CAACF,MAAM,CAACG,IAAI,CAACT,IAAI,EAAEC,KAAK,CAACO,CAAC,CAAC,CAAC,IAAIT,IAAI,CAACE,KAAK,CAACO,CAAC,CAAC,CAAC,KAAKR,IAAI,CAACC,KAAK,CAACO,CAAC,CAAC,CAAC,EAAE;QACrE,OAAO,KAAK;;;IAGhB,OAAO,IAAI;EACb,CAAC;AACD,EAAO,IAAIE,cAAc,GAAG,SAASA,cAAc,CAACC,SAAS,EAAE;IAC7D,OAAOA,SAAS,CAACC,WAAW,IAAID,SAAS,CAACE,IAAI,IAAI,kBAAkB;EACtE,CAAC;AACD,EAIA,IAAIC,aAAa,GAAG,SAASA,aAAa,CAACC,KAAK,EAAE;IAChD,OAAOvB,OAAO,CAACuB,KAAK,CAAC,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC;EAC/E,CAAC;AACD,EAAO,IAAIG,cAAc,GAAG,SAASA,cAAc,CAACzB,GAAG,EAAE;IACvDS,MAAM,CAACC,IAAI,CAACV,GAAG,CAAC,CAAC0B,OAAO,CAAC,UAAUC,GAAG,EAAE;MACtC,IAAIL,KAAK,GAAGtB,GAAG,CAAC2B,GAAG,CAAC;MACpB,IAAI,CAACN,aAAa,CAACC,KAAK,CAAC,EAAE;QACzB;;MAEF,IAAI,CAACM,aAAa,CAACN,KAAK,CAAC,EAAE;QACzB,OAAOtB,GAAG,CAAC2B,GAAG,CAAC;OAChB,MAAM;QACLF,cAAc,CAACH,KAAK,CAAC;;KAExB,CAAC;IACF,OAAOtB,GAAG;EACZ,CAAC;AACD,EAqCO,SAAS4B,aAAa,CAACC,MAAM,EAAE;IACpC,OAAOA,MAAM,IAAIpB,MAAM,CAACC,IAAI,CAACmB,MAAM,CAAC,CAACjB,MAAM,GAAG,CAAC;EACjD;;ECxFO,IAAIkB,oBAAoB,gBAAgBC,mBAAa,CAAC;IAC3DC,qBAAqB,EAAE,SAASA,qBAAqB,GAAG;MACtD,OAAOC,SAAS;KACjB;IACDC,kBAAkB,EAAE,SAASA,kBAAkB,GAAG;MAChD,OAAO,GAAG;KACX;IACDC,sBAAsB,EAAE,SAASA,sBAAsB,GAAG;MACxD,OAAOF,SAAS;KACjB;IACDG,mBAAmB,EAAE,SAASA,mBAAmB,GAAG;MAClD,OAAOH,SAAS;KACjB;IACDI,kBAAkB,EAAE,SAASA,kBAAkB,GAAG;MAChD,OAAOJ,SAAS;KACjB;IACDK,KAAK,EAAE,EAAE;IACTC,cAAc,EAAE,EAAE;IAClBC,iBAAiB,EAAE;EACrB,CAAC,CAAC;EACF,IAAIC,qBAAqB,GAAGX,oBAAoB,CAACY,QAAQ;IACvDC,qBAAqB,GAAGb,oBAAoB,CAACc,QAAQ;AACvD,EACA,IAAIC,cAAc,gBAAgBd,mBAAa,CAACE,SAAS,CAAC;IACxDa,aAAa,GAAGD,cAAc,CAACH,QAAQ;IACvCK,aAAa,GAAGF,cAAc,CAACD,QAAQ;;EC1BzC,IAAII,SAAS,GAAG,CAAC,cAAc,CAAC;EAChC,SAASjD,SAAO,CAACC,GAAG,EAAE;IAAE,yBAAyB;;IAAE,OAAOD,SAAO,GAAG,UAAU,IAAI,OAAOE,MAAM,IAAI,QAAQ,IAAI,OAAOA,MAAM,CAACC,QAAQ,GAAG,UAAUF,GAAG,EAAE;MAAE,OAAO,OAAOA,GAAG;KAAG,GAAG,UAAUA,GAAG,EAAE;MAAE,OAAOA,GAAG,IAAI,UAAU,IAAI,OAAOC,MAAM,IAAID,GAAG,CAACG,WAAW,KAAKF,MAAM,IAAID,GAAG,KAAKC,MAAM,CAACG,SAAS,GAAG,QAAQ,GAAG,OAAOJ,GAAG;KAAG,EAAED,SAAO,CAACC,GAAG,CAAC;EAAE;EAC/U,SAASiD,QAAQ,GAAG;IAAEA,QAAQ,GAAGxC,MAAM,CAACyC,MAAM,GAAGzC,MAAM,CAACyC,MAAM,CAACC,IAAI,EAAE,GAAG,UAAUC,MAAM,EAAE;MAAE,KAAK,IAAIrC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsC,SAAS,CAACzC,MAAM,EAAEG,CAAC,EAAE,EAAE;QAAE,IAAIuC,MAAM,GAAGD,SAAS,CAACtC,CAAC,CAAC;QAAE,KAAK,IAAIY,GAAG,IAAI2B,MAAM,EAAE;UAAE,IAAI7C,MAAM,CAACL,SAAS,CAACU,cAAc,CAACE,IAAI,CAACsC,MAAM,EAAE3B,GAAG,CAAC,EAAE;YAAEyB,MAAM,CAACzB,GAAG,CAAC,GAAG2B,MAAM,CAAC3B,GAAG,CAAC;;;;MAAQ,OAAOyB,MAAM;KAAG;IAAE,OAAOH,QAAQ,CAACM,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;EAAE;EAClV,SAASG,wBAAwB,CAACF,MAAM,EAAEG,QAAQ,EAAE;IAAE,IAAIH,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE;IAAE,IAAIF,MAAM,GAAGM,6BAA6B,CAACJ,MAAM,EAAEG,QAAQ,CAAC;IAAE,IAAI9B,GAAG,EAAEZ,CAAC;IAAE,IAAIN,MAAM,CAACkD,qBAAqB,EAAE;MAAE,IAAIC,gBAAgB,GAAGnD,MAAM,CAACkD,qBAAqB,CAACL,MAAM,CAAC;MAAE,KAAKvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6C,gBAAgB,CAAChD,MAAM,EAAEG,CAAC,EAAE,EAAE;QAAEY,GAAG,GAAGiC,gBAAgB,CAAC7C,CAAC,CAAC;QAAE,IAAI0C,QAAQ,CAACI,OAAO,CAAClC,GAAG,CAAC,IAAI,CAAC,EAAE;QAAU,IAAI,CAAClB,MAAM,CAACL,SAAS,CAAC0D,oBAAoB,CAAC9C,IAAI,CAACsC,MAAM,EAAE3B,GAAG,CAAC,EAAE;QAAUyB,MAAM,CAACzB,GAAG,CAAC,GAAG2B,MAAM,CAAC3B,GAAG,CAAC;;;IAAM,OAAOyB,MAAM;EAAE;EAC3e,SAASM,6BAA6B,CAACJ,MAAM,EAAEG,QAAQ,EAAE;IAAE,IAAIH,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE;IAAE,IAAIF,MAAM,GAAG,EAAE;IAAE,IAAIW,UAAU,GAAGtD,MAAM,CAACC,IAAI,CAAC4C,MAAM,CAAC;IAAE,IAAI3B,GAAG,EAAEZ,CAAC;IAAE,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgD,UAAU,CAACnD,MAAM,EAAEG,CAAC,EAAE,EAAE;MAAEY,GAAG,GAAGoC,UAAU,CAAChD,CAAC,CAAC;MAAE,IAAI0C,QAAQ,CAACI,OAAO,CAAClC,GAAG,CAAC,IAAI,CAAC,EAAE;MAAUyB,MAAM,CAACzB,GAAG,CAAC,GAAG2B,MAAM,CAAC3B,GAAG,CAAC;;IAAI,OAAOyB,MAAM;EAAE;EAClT,SAASY,OAAO,CAACnC,MAAM,EAAEoC,cAAc,EAAE;IAAE,IAAIvD,IAAI,GAAGD,MAAM,CAACC,IAAI,CAACmB,MAAM,CAAC;IAAE,IAAIpB,MAAM,CAACkD,qBAAqB,EAAE;MAAE,IAAIO,OAAO,GAAGzD,MAAM,CAACkD,qBAAqB,CAAC9B,MAAM,CAAC;MAAEoC,cAAc,KAAKC,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;QAAE,OAAO3D,MAAM,CAAC4D,wBAAwB,CAACxC,MAAM,EAAEuC,GAAG,CAAC,CAACE,UAAU;OAAG,CAAC,CAAC,EAAE5D,IAAI,CAAC6D,IAAI,CAAChB,KAAK,CAAC7C,IAAI,EAAEwD,OAAO,CAAC;;IAAI,OAAOxD,IAAI;EAAE;EACpV,SAAS8D,aAAa,CAACpB,MAAM,EAAE;IAAE,KAAK,IAAIrC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsC,SAAS,CAACzC,MAAM,EAAEG,CAAC,EAAE,EAAE;MAAE,IAAIuC,MAAM,GAAG,IAAI,IAAID,SAAS,CAACtC,CAAC,CAAC,GAAGsC,SAAS,CAACtC,CAAC,CAAC,GAAG,EAAE;MAAEA,CAAC,GAAG,CAAC,GAAGiD,OAAO,CAACvD,MAAM,CAAC6C,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC5B,OAAO,CAAC,UAAUC,GAAG,EAAE;QAAE8C,eAAe,CAACrB,MAAM,EAAEzB,GAAG,EAAE2B,MAAM,CAAC3B,GAAG,CAAC,CAAC;OAAG,CAAC,GAAGlB,MAAM,CAACiE,yBAAyB,GAAGjE,MAAM,CAACkE,gBAAgB,CAACvB,MAAM,EAAE3C,MAAM,CAACiE,yBAAyB,CAACpB,MAAM,CAAC,CAAC,GAAGU,OAAO,CAACvD,MAAM,CAAC6C,MAAM,CAAC,CAAC,CAAC5B,OAAO,CAAC,UAAUC,GAAG,EAAE;QAAElB,MAAM,CAACmE,cAAc,CAACxB,MAAM,EAAEzB,GAAG,EAAElB,MAAM,CAAC4D,wBAAwB,CAACf,MAAM,EAAE3B,GAAG,CAAC,CAAC;OAAG,CAAC;;IAAI,OAAOyB,MAAM;EAAE;EACzf,SAASyB,eAAe,CAACC,QAAQ,EAAEC,WAAW,EAAE;IAAE,IAAI,EAAED,QAAQ,YAAYC,WAAW,CAAC,EAAE;MAAE,MAAM,IAAIC,SAAS,CAAC,mCAAmC,CAAC;;EAAI;EACxJ,SAASC,iBAAiB,CAAC7B,MAAM,EAAE8B,KAAK,EAAE;IAAE,KAAK,IAAInE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmE,KAAK,CAACtE,MAAM,EAAEG,CAAC,EAAE,EAAE;MAAE,IAAIoE,UAAU,GAAGD,KAAK,CAACnE,CAAC,CAAC;MAAEoE,UAAU,CAACb,UAAU,GAAGa,UAAU,CAACb,UAAU,IAAI,KAAK;MAAEa,UAAU,CAACC,YAAY,GAAG,IAAI;MAAE,IAAI,OAAO,IAAID,UAAU,EAAEA,UAAU,CAACE,QAAQ,GAAG,IAAI;MAAE5E,MAAM,CAACmE,cAAc,CAACxB,MAAM,EAAEkC,cAAc,CAACH,UAAU,CAACxD,GAAG,CAAC,EAAEwD,UAAU,CAAC;;EAAI;EAC5U,SAASI,YAAY,CAACR,WAAW,EAAES,UAAU,EAAEC,WAAW,EAAE;IAAE,IAAID,UAAU,EAAEP,iBAAiB,CAACF,WAAW,CAAC3E,SAAS,EAAEoF,UAAU,CAAC;IAAE,IAAIC,WAAW,EAAER,iBAAiB,CAACF,WAAW,EAAEU,WAAW,CAAC;IAAEhF,MAAM,CAACmE,cAAc,CAACG,WAAW,EAAE,WAAW,EAAE;MAAEM,QAAQ,EAAE;KAAO,CAAC;IAAE,OAAON,WAAW;EAAE;EAC5R,SAASW,SAAS,CAACC,QAAQ,EAAEC,UAAU,EAAE;IAAE,IAAI,OAAOA,UAAU,KAAK,UAAU,IAAIA,UAAU,KAAK,IAAI,EAAE;MAAE,MAAM,IAAIZ,SAAS,CAAC,oDAAoD,CAAC;;IAAIW,QAAQ,CAACvF,SAAS,GAAGK,MAAM,CAACoF,MAAM,CAACD,UAAU,IAAIA,UAAU,CAACxF,SAAS,EAAE;MAAED,WAAW,EAAE;QAAEmB,KAAK,EAAEqE,QAAQ;QAAEN,QAAQ,EAAE,IAAI;QAAED,YAAY,EAAE;;KAAQ,CAAC;IAAE3E,MAAM,CAACmE,cAAc,CAACe,QAAQ,EAAE,WAAW,EAAE;MAAEN,QAAQ,EAAE;KAAO,CAAC;IAAE,IAAIO,UAAU,EAAEE,eAAe,CAACH,QAAQ,EAAEC,UAAU,CAAC;EAAE;EACnc,SAASE,eAAe,CAACC,CAAC,EAAEC,CAAC,EAAE;IAAEF,eAAe,GAAGrF,MAAM,CAACwF,cAAc,GAAGxF,MAAM,CAACwF,cAAc,CAAC9C,IAAI,EAAE,GAAG,SAAS2C,eAAe,CAACC,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACG,SAAS,GAAGF,CAAC;MAAE,OAAOD,CAAC;KAAG;IAAE,OAAOD,eAAe,CAACC,CAAC,EAAEC,CAAC,CAAC;EAAE;EACvM,SAASG,YAAY,CAACC,OAAO,EAAE;IAAE,IAAIC,yBAAyB,GAAGC,yBAAyB,EAAE;IAAE,OAAO,SAASC,oBAAoB,GAAG;MAAE,IAAIC,KAAK,GAAGC,eAAe,CAACL,OAAO,CAAC;QAAEM,MAAM;MAAE,IAAIL,yBAAyB,EAAE;QAAE,IAAIM,SAAS,GAAGF,eAAe,CAAC,IAAI,CAAC,CAACtG,WAAW;QAAEuG,MAAM,GAAGE,OAAO,CAACC,SAAS,CAACL,KAAK,EAAEnD,SAAS,EAAEsD,SAAS,CAAC;OAAG,MAAM;QAAED,MAAM,GAAGF,KAAK,CAACjD,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;;MAAI,OAAOyD,0BAA0B,CAAC,IAAI,EAAEJ,MAAM,CAAC;KAAG;EAAE;EACxa,SAASI,0BAA0B,CAACC,IAAI,EAAE/F,IAAI,EAAE;IAAE,IAAIA,IAAI,KAAKjB,SAAO,CAACiB,IAAI,CAAC,KAAK,QAAQ,IAAI,OAAOA,IAAI,KAAK,UAAU,CAAC,EAAE;MAAE,OAAOA,IAAI;KAAG,MAAM,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;MAAE,MAAM,IAAIgE,SAAS,CAAC,0DAA0D,CAAC;;IAAI,OAAOgC,sBAAsB,CAACD,IAAI,CAAC;EAAE;EAC/R,SAASC,sBAAsB,CAACD,IAAI,EAAE;IAAE,IAAIA,IAAI,KAAK,KAAK,CAAC,EAAE;MAAE,MAAM,IAAIE,cAAc,CAAC,2DAA2D,CAAC;;IAAI,OAAOF,IAAI;EAAE;EACrK,SAAST,yBAAyB,GAAG;IAAE,IAAI,OAAOM,OAAO,KAAK,WAAW,IAAI,CAACA,OAAO,CAACC,SAAS,EAAE,OAAO,KAAK;IAAE,IAAID,OAAO,CAACC,SAAS,CAACK,IAAI,EAAE,OAAO,KAAK;IAAE,IAAI,OAAOC,KAAK,KAAK,UAAU,EAAE,OAAO,IAAI;IAAE,IAAI;MAAEC,OAAO,CAAChH,SAAS,CAACiH,OAAO,CAACrG,IAAI,CAAC4F,OAAO,CAACC,SAAS,CAACO,OAAO,EAAE,EAAE,EAAE,YAAY,EAAE,CAAC,CAAC;MAAE,OAAO,IAAI;KAAG,CAAC,OAAOE,CAAC,EAAE;MAAE,OAAO,KAAK;;EAAI;EACxU,SAASb,eAAe,CAACV,CAAC,EAAE;IAAEU,eAAe,GAAGhG,MAAM,CAACwF,cAAc,GAAGxF,MAAM,CAAC8G,cAAc,CAACpE,IAAI,EAAE,GAAG,SAASsD,eAAe,CAACV,CAAC,EAAE;MAAE,OAAOA,CAAC,CAACG,SAAS,IAAIzF,MAAM,CAAC8G,cAAc,CAACxB,CAAC,CAAC;KAAG;IAAE,OAAOU,eAAe,CAACV,CAAC,CAAC;EAAE;EACnN,SAAStB,eAAe,CAACzE,GAAG,EAAE2B,GAAG,EAAEL,KAAK,EAAE;IAAEK,GAAG,GAAG2D,cAAc,CAAC3D,GAAG,CAAC;IAAE,IAAIA,GAAG,IAAI3B,GAAG,EAAE;MAAES,MAAM,CAACmE,cAAc,CAAC5E,GAAG,EAAE2B,GAAG,EAAE;QAAEL,KAAK,EAAEA,KAAK;QAAEgD,UAAU,EAAE,IAAI;QAAEc,YAAY,EAAE,IAAI;QAAEC,QAAQ,EAAE;OAAM,CAAC;KAAG,MAAM;MAAErF,GAAG,CAAC2B,GAAG,CAAC,GAAGL,KAAK;;IAAI,OAAOtB,GAAG;EAAE;EAC3O,SAASsF,cAAc,CAACkC,GAAG,EAAE;IAAE,IAAI7F,GAAG,GAAG8F,YAAY,CAACD,GAAG,EAAE,QAAQ,CAAC;IAAE,OAAOzH,SAAO,CAAC4B,GAAG,CAAC,KAAK,QAAQ,GAAGA,GAAG,GAAG+F,MAAM,CAAC/F,GAAG,CAAC;EAAE;EAC5H,SAAS8F,YAAY,CAACE,KAAK,EAAEC,IAAI,EAAE;IAAE,IAAI7H,SAAO,CAAC4H,KAAK,CAAC,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,EAAE,OAAOA,KAAK;IAAE,IAAIE,IAAI,GAAGF,KAAK,CAAC1H,MAAM,CAAC6H,WAAW,CAAC;IAAE,IAAID,IAAI,KAAK5F,SAAS,EAAE;MAAE,IAAI8F,GAAG,GAAGF,IAAI,CAAC7G,IAAI,CAAC2G,KAAK,EAAEC,IAAI,IAAI,SAAS,CAAC;MAAE,IAAI7H,SAAO,CAACgI,GAAG,CAAC,KAAK,QAAQ,EAAE,OAAOA,GAAG;MAAE,MAAM,IAAI/C,SAAS,CAAC,8CAA8C,CAAC;;IAAI,OAAO,CAAC4C,IAAI,KAAK,QAAQ,GAAGF,MAAM,GAAGM,MAAM,EAAEL,KAAK,CAAC;EAAE;AAC5X,EAIA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA,EAAO,SAASM,6BAA6B,CAACC,aAAa,EAAE;IAC3D,IAAI,CAACA,aAAa,CAAC/G,WAAW,EAAE;MAC9B,MAAM,IAAIgH,KAAK,CAAC,qEAAqE,CAAC;;IAExF,IAAIC,QAAQ,GAAG,OAAOF,aAAa,CAACG,mBAAmB,KAAK,UAAU,IAAI,OAAOH,aAAa,CAACI,WAAW,KAAK,UAAU,IAAI,OAAOJ,aAAa,CAACK,eAAe,KAAK,UAAU;IAChL,OAAO,UAAUC,QAAQ,EAAE;MACzB,IAAIC,0BAA0B,GAAGpF,SAAS,CAACzC,MAAM,GAAG,CAAC,IAAIyC,SAAS,CAAC,CAAC,CAAC,KAAKpB,SAAS,GAAGoB,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;MACvG,IAAIqF,SAAS,gBAAgB,UAAUC,UAAU,EAAE;QACjDjD,SAAS,CAACgD,SAAS,EAAEC,UAAU,CAAC;QAChC,IAAIC,MAAM,GAAGzC,YAAY,CAACuC,SAAS,CAAC;QACpC,SAASA,SAAS,CAACxD,KAAK,EAAE;UACxB,IAAI2D,KAAK;UACThE,eAAe,CAAC,IAAI,EAAE6D,SAAS,CAAC;UAChCG,KAAK,GAAGD,MAAM,CAAC5H,IAAI,CAAC,IAAI,EAAEkE,KAAK,CAAC;UAChCT,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;UACrEpE,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,kBAAkB,EAAE,KAAK,CAAC,CAAC;UAC1EpE,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC;UACvEpE,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,cAAc,EAAE,KAAK,CAAC;UACrEpE,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,OAAO,EAAE;YACtDC,aAAa,EAAED,KAAK,CAACE,gBAAgB,CAACF,KAAK,CAAC3D,KAAK;WAClD,CAAC;UACFT,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,QAAQ,EAAE,YAAY;YACnE,IAAIG,IAAI;YACR,KAAK,IAAIC,IAAI,GAAG5F,SAAS,CAACzC,MAAM,EAAEsI,IAAI,GAAG,IAAI3H,KAAK,CAAC0H,IAAI,CAAC,EAAEE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGF,IAAI,EAAEE,IAAI,EAAE,EAAE;cACvFD,IAAI,CAACC,IAAI,CAAC,GAAG9F,SAAS,CAAC8F,IAAI,CAAC;;YAE9BN,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAACpH,qBAAqB;;YAE9C,CAACgH,IAAI,GAAGd,aAAa,CAACmB,MAAM,EAAErI,IAAI,CAACuC,KAAK,CAACyF,IAAI,EAAE,CAAChC,sBAAsB,CAAC6B,KAAK,CAAC,EAAEA,KAAK,CAAC3D,KAAK,EAAE2D,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,CAAC,CAACC,MAAM,CAACN,IAAI,CAAC,CAAC,CAAC;WAC9J,CAAC;UACFzE,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,WAAW,EAAE,YAAY;YACtE,IAAIY,KAAK;YACT,KAAK,IAAIC,KAAK,GAAGrG,SAAS,CAACzC,MAAM,EAAEsI,IAAI,GAAG,IAAI3H,KAAK,CAACmI,KAAK,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,KAAK,EAAEC,KAAK,EAAE,EAAE;cAC7FT,IAAI,CAACS,KAAK,CAAC,GAAGtG,SAAS,CAACsG,KAAK,CAAC;;YAEhC,OAAOd,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAAClH,kBAAkB;;YAElD,CAACuH,KAAK,GAAGvB,aAAa,CAACmB,MAAM,EAAErI,IAAI,CAACuC,KAAK,CAACkG,KAAK,EAAE,CAACzC,sBAAsB,CAAC6B,KAAK,CAAC,EAAEA,KAAK,CAAC3D,KAAK,EAAE2D,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,CAAC,CAACC,MAAM,CAACN,IAAI,CAAC,CAAC,CAAC;WAChK,CAAC;UACFzE,eAAe,CAACuC,sBAAsB,CAAC6B,KAAK,CAAC,EAAE,sBAAsB,EAAE,YAAY;YACjF,IAAIe,KAAK;YACT,KAAK,IAAIC,KAAK,GAAGxG,SAAS,CAACzC,MAAM,EAAEsI,IAAI,GAAG,IAAI3H,KAAK,CAACsI,KAAK,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,KAAK,EAAEC,KAAK,EAAE,EAAE;cAC7FZ,IAAI,CAACY,KAAK,CAAC,GAAGzG,SAAS,CAACyG,KAAK,CAAC;;YAEhCjB,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAACjH,sBAAsB;;YAE/C,CAACyH,KAAK,GAAG1B,aAAa,CAAC6B,oBAAoB,EAAE/I,IAAI,CAACuC,KAAK,CAACqG,KAAK,EAAE,CAAC5C,sBAAsB,CAAC6B,KAAK,CAAC,EAAEA,KAAK,CAAC3D,KAAK,EAAE2D,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,CAAC,CAACC,MAAM,CAACN,IAAI,CAAC,CAAC,CAAC;WAC9K,CAAC;UACF,IAAIhB,aAAa,CAACG,mBAAmB,EAAE;YACrCQ,KAAK,CAAC3D,KAAK,CAACkE,YAAY,CAAC/G,kBAAkB,CAAC6F,aAAa,CAACG,mBAAmB,CAAClF,IAAI,CAAC6D,sBAAsB,CAAC6B,KAAK,CAAC,CAAC,EAAE;cACjHmB,GAAG,EAAEnB,KAAK,CAAC3D,KAAK,CAACkE,YAAY;cAC7Ba,iBAAiB,EAAEpB,KAAK,CAAC3D,KAAK,CAACgF;aAChC,EAAErB,KAAK,CAAC3D,KAAK,EAAEgD,aAAa,CAACI,WAAW,IAAIJ,aAAa,CAACI,WAAW,CAACnF,IAAI,CAAC6D,sBAAsB,CAAC6B,KAAK,CAAC,CAAC,EAAEX,aAAa,CAAC/G,WAAW,CAAC;;UAExI,OAAO0H,KAAK;;QAEdtD,YAAY,CAACmD,SAAS,EAAE,CAAC;UACvB/G,GAAG,EAAE,mBAAmB;UACxBL,KAAK,EAAE,SAAS6I,iBAAiB,GAAG;YAClC,IAAIC,MAAM,GAAG,IAAI;YACjB,IAAI,IAAI,CAACC,eAAe,EAAE;cACxBC,YAAY,CAAC,IAAI,CAACD,eAAe,CAAC;cAClC,IAAI,CAACA,eAAe,GAAG,IAAI;;YAE7B,IAAI,CAACE,WAAW,GAAG,IAAI,CAACrF,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACkI,SAAS,CAAC,YAAY;cACrE,IAAI,CAACJ,MAAM,CAACK,YAAY,EAAE;gBACxBL,MAAM,CAACM,QAAQ,CAAC;kBACd5B,aAAa,EAAEsB,MAAM,CAACrB,gBAAgB,CAACqB,MAAM,CAAClF,KAAK;iBACpD,CAAC;;aAEL,CAAC;YACF,IAAIkD,QAAQ,EAAE;cACZ,IAAI,CAACuC,gBAAgB,GAAG,IAAI,CAACzF,KAAK,CAACkE,YAAY,CAAC7G,cAAc,CAACqI,cAAc,CAAC,IAAI,CAAC;;;SAGxF,EAAE;UACDjJ,GAAG,EAAE,uBAAuB;UAC5BL,KAAK,EAAE,SAASuJ,qBAAqB,CAACC,SAAS,EAAEC,SAAS,EAAE;YAC1D,IAAI,OAAO7C,aAAa,CAAC2C,qBAAqB,KAAK,UAAU,EAAE;cAC7D,OAAO3C,aAAa,CAAC2C,qBAAqB,CAAC7J,IAAI,CAAC,IAAI,EAAE,IAAI,CAACkE,KAAK,EAAE4F,SAAS,EAAE,IAAI,CAACE,KAAK,EAAED,SAAS,CAAC;;YAErG,IAAIE,UAAU,GAAG5K,YAAY,CAAC,IAAI,CAAC6E,KAAK,EAAE4F,SAAS,CAAC;YACpD,IAAI,IAAI,CAACE,KAAK,CAAClC,aAAa,KAAK,IAAI,IAAIiC,SAAS,CAACjC,aAAa,KAAK,IAAI,EAAE;cACzE,IAAI,IAAI,CAACkC,KAAK,CAAClC,aAAa,KAAKiC,SAAS,CAACjC,aAAa,EAAE;gBACxD,OAAO,CAACmC,UAAU;;cAEpB,OAAO,IAAI;;YAEb,OAAO,CAACA,UAAU,IAAI,CAAC5K,YAAY,CAAC,IAAI,CAAC2K,KAAK,CAAClC,aAAa,EAAEiC,SAAS,CAACjC,aAAa,CAAC;;SAEzF,EAAE;UACDnH,GAAG,EAAE,oBAAoB;UACzBL,KAAK,EAAE,SAAS4J,kBAAkB,CAACC,SAAS,EAAE;YAC5C,IAAI,CAACC,gBAAO,CAACD,SAAS,EAAE,IAAI,CAACjG,KAAK,CAAC,EAAE;cACnC,IAAI,CAACwF,QAAQ,CAAC;gBACZ5B,aAAa,EAAE,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAAC7D,KAAK;eAChD,CAAC;cACF,IAAIkD,QAAQ,EAAE;gBACZ,IAAI,CAAClD,KAAK,CAACkE,YAAY,CAAC7G,cAAc,CAAC8I,MAAM,EAAE;gBAC/C,IAAI,OAAOnD,aAAa,CAACK,eAAe,KAAK,UAAU,EAAE;kBACvD,IAAI,CAACrD,KAAK,CAACkE,YAAY,CAAChH,mBAAmB,CAAC8F,aAAa,CAACK,eAAe,CAACvH,IAAI,CAAC,IAAI,EAAE,IAAI,CAACkE,KAAK,EAAE,IAAI,CAACA,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,EAAE,IAAI,CAACrE,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,CAAC,CAAC;;;;;SAK9M,EAAE;UACD5H,GAAG,EAAE,sBAAsB;UAC3BL,KAAK,EAAE,SAASgK,oBAAoB,GAAG;YACrC,IAAIC,MAAM,GAAG,IAAI;YACjB,IAAI,CAAClB,eAAe,GAAGmB,UAAU,CAAC,YAAY;cAC5CD,MAAM,CAACd,YAAY,GAAG,IAAI;cAC1B,IAAIc,MAAM,CAAChB,WAAW,EAAE;gBACtBgB,MAAM,CAAChB,WAAW,EAAE;;cAEtB,IAAIgB,MAAM,CAACZ,gBAAgB,EAAE;gBAC3BY,MAAM,CAACZ,gBAAgB,EAAE;gBACzB,IAAI,OAAOzC,aAAa,CAACuD,OAAO,KAAK,UAAU,EAAE;kBAC/C,IAAIV,SAAS,GAAG7C,aAAa,CAACuD,OAAO,CAACzK,IAAI,CAACuK,MAAM,EAAEA,MAAM,CAACrG,KAAK,EAAEqG,MAAM,CAACrG,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,CAAC;kBACpHgC,MAAM,CAACrG,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACoI,QAAQ,CAAClG,aAAa,CAACA,aAAa,CAAC,EAAE,EAAE+G,MAAM,CAACrG,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE;oBACxHC,OAAO,EAAEwB;mBACV,CAAC,CAAC;kBACHQ,MAAM,CAACrG,KAAK,CAACkE,YAAY,CAAChH,mBAAmB,CAACX,cAAc,CAACsJ,SAAS,CAAC,CAAC;;;aAG7E,CAAC;;SAEL,EAAE;UACDpJ,GAAG,EAAE,kBAAkB;UACvBL,KAAK,EAAE,SAASyH,gBAAgB,CAAC7D,KAAK,EAAE;YACtC,IAAIwG,qBAAqB,GAAG,IAAI,CAACxG,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE;cAClEC,OAAO,GAAGmC,qBAAqB,CAACnC,OAAO;cACvCoC,OAAO,GAAGD,qBAAqB,CAACC,OAAO;cACvCC,kBAAkB,GAAGF,qBAAqB,CAACE,kBAAkB;cAC7DC,SAAS,GAAGH,qBAAqB,CAACG,SAAS;cAC3CC,uBAAuB,GAAGJ,qBAAqB,CAACI,uBAAuB;cACvEC,eAAe,GAAGL,qBAAqB,CAACK,eAAe;cACvDC,QAAQ,GAAGN,qBAAqB,CAACM,QAAQ;cACzCC,KAAK,GAAGP,qBAAqB,CAACO,KAAK;YACrC,IAAIC,aAAa,GAAG;cAClBP,OAAO,EAAEA,OAAO;cAChBE,SAAS,EAAEA,SAAS;cACpBC,uBAAuB,EAAEA,uBAAuB;cAChDC,eAAe,EAAEA,eAAe;cAChCE,KAAK,EAAEA;aACR;YACD,OAAO/D,aAAa,CAACa,gBAAgB,CAAC/H,IAAI,CAAC,IAAI,EAAEkE,KAAK,EAAEqE,OAAO,EAAE2C,aAAa,EAAEF,QAAQ;;;;YAIxFJ,kBAAkB,CAAC;;SAEtB,EAAE;UACDjK,GAAG,EAAE,qBAAqB;UAC1BL,KAAK,EAAE,SAAS+G,mBAAmB,CAAC8D,gBAAgB,EAAE;YACpD,IAAI,OAAOjE,aAAa,CAACG,mBAAmB,KAAK,UAAU,EAAE;cAC3D,OAAOH,aAAa,CAACG,mBAAmB,CAACrH,IAAI,CAAC,IAAI,EAAEmL,gBAAgB,EAAE,IAAI,CAACjH,KAAK,EAAE,IAAI,CAACA,KAAK,CAACkE,YAAY,CAAC9G,KAAK,CAACgH,QAAQ,EAAE,CAACC,OAAO,CAAC;;YAErI,OAAO,IAAI;;SAEd,EAAE;UACD5H,GAAG,EAAE,aAAa;UAClBL,KAAK,EAAE,SAASgH,WAAW,CAAC8D,gBAAgB,EAAE;YAC5C,IAAI,OAAOlE,aAAa,CAACI,WAAW,KAAK,UAAU,EAAE;cACnD,OAAOJ,aAAa,CAACI,WAAW,CAACtH,IAAI,CAAC,IAAI,EAAE,IAAI,CAACkE,KAAK,EAAEkH,gBAAgB,CAAC;;YAE3E,OAAO,EAAE;;SAEZ,EAAE;UACDzK,GAAG,EAAE,iBAAiB;UACtBL,KAAK,EAAE,SAASiH,eAAe,CAAC8D,gBAAgB,EAAED,gBAAgB,EAAE;YAClE,IAAI,OAAOlE,aAAa,CAACK,eAAe,KAAK,UAAU,EAAE;cACvD,OAAOL,aAAa,CAACK,eAAe,CAACvH,IAAI,CAAC,IAAI,EAAE,IAAI,CAACkE,KAAK,EAAEmH,gBAAgB,EAAED,gBAAgB,CAAC;;YAEjG,OAAOA,gBAAgB;;SAE1B,EAAE;UACDzK,GAAG,EAAE,QAAQ;UACbL,KAAK,EAAE,SAASgL,MAAM,GAAG;YACvB,IAAIC,WAAW,GAAG,IAAI,CAACrH,KAAK;cAC1BkE,YAAY,GAAGmD,WAAW,CAACnD,YAAY;cACvClE,KAAK,GAAG1B,wBAAwB,CAAC+I,WAAW,EAAEvJ,SAAS,CAAC;YAC1D,IAAI8F,aAAa,GAAG,IAAI,CAACkC,KAAK,CAAClC,aAAa;YAC5C,IAAIA,aAAa,KAAK,IAAI,EAAE;cAC1B,OAAO,IAAI;;YAEb,IAAI0D,WAAW,GAAG,OAAOtE,aAAa,CAACmB,MAAM,KAAK,UAAU,GAAG;cAC7DA,MAAM,EAAE,IAAI,CAACA,MAAM;cACnBoD,SAAS,EAAE,IAAI,CAACA;aACjB,GAAG,EAAE;YACN,IAAIC,yBAAyB,GAAG,OAAOxE,aAAa,CAAC6B,oBAAoB,KAAK,UAAU,GAAG;cACzF4C,cAAc,EAAE,IAAI,CAAC5C;aACtB,GAAG,EAAE;YACN,oBAAoB6C,cAAK,CAACC,aAAa,CAACrE,QAAQ,EAAEvF,QAAQ,CAAC,EAAE,EAAEiC,KAAK,EAAE4D,aAAa,EAAE0D,WAAW,EAAEE,yBAAyB,CAAC,CAAC;;SAEhI,CAAC,CAAC;QACH,OAAOhE,SAAS;OACjB,CAACxH,eAAS,CAAC;MACZuD,eAAe,CAACiE,SAAS,EAAE,aAAa,EAAE,EAAE,CAACc,MAAM,CAACtB,aAAa,CAAC/G,WAAW,EAAE,GAAG,CAAC,CAACqI,MAAM,CAACvI,cAAc,CAACuH,QAAQ,CAAC,EAAE,GAAG,CAAC,CAAC;MAC1H/D,eAAe,CAACiE,SAAS,EAAE,QAAQ,EAAER,aAAa,CAAC4E,MAAM,CAAC;MAC1DrI,eAAe,CAACiE,SAAS,EAAE,cAAc,EAAED,0BAA0B,CAACsE,YAAY,CAAC;MACnFtI,eAAe,CAACiE,SAAS,EAAE,WAAW,EAAER,aAAa,CAAC8E,SAAS,CAAC;MAChEvI,eAAe,CAACiE,SAAS,EAAE,cAAc,EAAER,aAAa,CAAC+E,YAAY,CAAC;MACtExI,eAAe,CAACiE,SAAS,EAAE,gBAAgB,EAAER,aAAa,CAAC;MAC3D,OAAOQ,SAAS;KACjB;EACH;EACA,IAAIwE,0BAA0B,GAAG,SAASA,0BAA0B,CAAChF,aAAa,EAAE;IAClF,OAAO,UAAUM,QAAQ,EAAEC,0BAA0B,EAAE;MACrD,IAAIC,SAAS,GAAGT,6BAA6B,CAACC,aAAa,CAAC,CAACM,QAAQ,EAAEC,0BAA0B,CAAC;MAClG,IAAI0E,gBAAgB,GAAG,SAASA,gBAAgB,CAACjI,KAAK,EAAE;QACtD,oBAAoB0H,cAAK,CAACC,aAAa,CAACpK,qBAAqB,EAAE,IAAI,EAAE,UAAU2G,YAAY,EAAE;UAC3F,oBAAoBwD,cAAK,CAACC,aAAa,CAAC/J,aAAa,EAAE,IAAI,EAAE,UAAUoH,iBAAiB,EAAE;YACxF,oBAAoB0C,cAAK,CAACC,aAAa,CAACnE,SAAS,EAAEzF,QAAQ,CAAC;cAC1DmG,YAAY,EAAEA,YAAY;cAC1Bc,iBAAiB,EAAEA;aACpB,EAAEhF,KAAK,CAAC,CAAC;WACX,CAAC;SACH,CAAC;OACH;MACD,OAAOiI,gBAAgB;KACxB;EACH,CAAC;;;;;;;;;;;;"}